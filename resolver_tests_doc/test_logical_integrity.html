
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="test_field_inheritance_via_derived_from.html">
      
      
        <link rel="next" href="test_peripheral_inheritance_via_derived_from.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>test_logical_integrity - Test Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#test_logical_integrity" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Test Documentation" class="md-header__button md-logo" aria-label="Test Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Test Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              test_logical_integrity
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Test Documentation" class="md-nav__button md-logo" aria-label="Test Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Test Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_derived_from_path_resolving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_derived_from_path_resolving
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_development.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_development
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_application_of_default_values.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_application_of_default_values
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_cluster_inheritance_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_cluster_inheritance_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_dim_handling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_dim_handling
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_enumerated_values.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_enumerated_values
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_enumerated_values_copy_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_enumerated_values_copy_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_field_inheritance_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_field_inheritance_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    test_logical_integrity
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="test_logical_integrity.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    test_logical_integrity
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity" class="md-nav__link">
    <span class="md-ellipsis">
      test_logical_integrity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_multiple" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_multiple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_multiple" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_multiple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_multiple_svdconv_warning" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_multiple_svdconv_warning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_and_alternate_group_exception" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_and_alternate_group_exception
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_multiple" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_multiple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_different_register_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_different_register_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_field_bit_range_processing" class="md-nav__link">
    <span class="md-ellipsis">
      test_field_bit_range_processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_field_illogical_values_in_bitrangepattern" class="md-nav__link">
    <span class="md-ellipsis">
      test_field_illogical_values_in_bitrangepattern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_field_wrong_string_in_bitrangepattern" class="md-nav__link">
    <span class="md-ellipsis">
      test_field_wrong_string_in_bitrangepattern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_fields_overlap_bit_offset" class="md-nav__link">
    <span class="md-ellipsis">
      test_fields_overlap_bit_offset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_fields_same_bit_offset" class="md-nav__link">
    <span class="md-ellipsis">
      test_fields_same_bit_offset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_fields_same_names" class="md-nav__link">
    <span class="md-ellipsis">
      test_fields_same_names
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_cluster_two_level" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_cluster_two_level
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_inner_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_inner_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_overlap_register_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_overlap_register_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_overlap_register_cluster_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_overlap_register_cluster_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripheral_sorting" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripheral_sorting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripheral_unaligned_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripheral_unaligned_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripherals_overlap_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripherals_overlap_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripherals_same_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripherals_same_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripherals_same_names" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripherals_same_names
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_and_cluster_register_same_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_and_cluster_register_same_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_and_cluster_same_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_and_cluster_same_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_and_nested_cluster_same_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_and_nested_cluster_same_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_cluster_sorting_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_cluster_sorting_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_size_bit_width" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_size_bit_width
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_unaligned_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_unaligned_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_same_register_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_register_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_same_register_cluster_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_register_cluster_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_same_register_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_register_names_in_peripheral
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_peripheral_inheritance_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_peripheral_inheritance_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_register_inheritance_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_register_inheritance_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_size_inheritance_and_adjustment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_size_inheritance_and_adjustment
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity" class="md-nav__link">
    <span class="md-ellipsis">
      test_logical_integrity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_multiple" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_multiple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_cluster_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_multiple" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_multiple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_multiple_svdconv_warning" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_multiple_svdconv_warning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_peripheral_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_peripheral_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_and_alternate_group_exception" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_and_alternate_group_exception
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_multiple" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_multiple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_alternate_register_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_register_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_different_register_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_different_register_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_field_bit_range_processing" class="md-nav__link">
    <span class="md-ellipsis">
      test_field_bit_range_processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_field_illogical_values_in_bitrangepattern" class="md-nav__link">
    <span class="md-ellipsis">
      test_field_illogical_values_in_bitrangepattern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_field_wrong_string_in_bitrangepattern" class="md-nav__link">
    <span class="md-ellipsis">
      test_field_wrong_string_in_bitrangepattern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_fields_overlap_bit_offset" class="md-nav__link">
    <span class="md-ellipsis">
      test_fields_overlap_bit_offset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_fields_same_bit_offset" class="md-nav__link">
    <span class="md-ellipsis">
      test_fields_same_bit_offset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_fields_same_names" class="md-nav__link">
    <span class="md-ellipsis">
      test_fields_same_names
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_cluster_two_level" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_cluster_two_level
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_inner_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_inner_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_ignore_empty_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_ignore_empty_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_overlap_register_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_overlap_register_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_overlap_register_cluster_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_overlap_register_cluster_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripheral_sorting" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripheral_sorting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripheral_unaligned_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripheral_unaligned_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripherals_overlap_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripherals_overlap_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripherals_same_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripherals_same_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_peripherals_same_names" class="md-nav__link">
    <span class="md-ellipsis">
      test_peripherals_same_names
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_alternate_group_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_alternate_group_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_and_cluster_register_same_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_and_cluster_register_same_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_and_cluster_same_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_and_cluster_same_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_and_nested_cluster_same_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_and_nested_cluster_same_names_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_cluster_sorting_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_cluster_sorting_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_size_bit_width" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_size_bit_width
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_register_unaligned_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_unaligned_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_same_register_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_register_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_same_register_cluster_addresses_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_register_cluster_addresses_in_peripheral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_logical_integrity.test_same_register_names_in_peripheral" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_register_names_in_peripheral
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="test_logical_integrity">test_logical_integrity</h1>
<div class="doc doc-object doc-module">
<a id="tests.test_process.test_logical_integrity"></a>
<div class="doc doc-contents first">
<p>This feature ensures the logical integrity of various elements within SVD processing. The test cases focus on
identifying potential conflicts, ambiguities, and ordering issues that may arise during the parsing and interpretation
of SVD files, ensuring that the structure and relationships between elements are processed correctly and consistently.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_cluster">
<code class="highlight language-python"><span class="n">test_alternate_cluster</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle clusters that share the same address and are
designated as alternates of each other. In this test file, <code>ClusterA</code> is defined at address offset <code>0x0</code>, and
<code>ClusterB</code> is defined at the same address, but is marked as an alternate of <code>ClusterA</code>. <code>svdconv</code> processes
this file without any errors or warnings, and a parser implementation should do the same, ensuring that the
alternate cluster relationship is properly handled.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, identifying the alternate cluster
relationship without any errors or warnings. The device should contain one peripheral with two clusters:
<code>ClusterA</code>, which is defined at address offset <code>0x0</code> and has no alternate cluster, and <code>ClusterB</code>, which
shares the same address offset of <code>0x0</code> and is marked as an alternate of <code>ClusterA</code>. Both clusters should have
the correct size of 32 bits, and the parser should ensure that the alternate cluster relationship is respected
and processed as intended, consistent with <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_cluster</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle clusters that share the same address and are</span>
<span class="sd">    designated as alternates of each other. In this test file, `ClusterA` is defined at address offset `0x0`, and</span>
<span class="sd">    `ClusterB` is defined at the same address, but is marked as an alternate of `ClusterA`. `svdconv` processes</span>
<span class="sd">    this file without any errors or warnings, and a parser implementation should do the same, ensuring that the</span>
<span class="sd">    alternate cluster relationship is properly handled.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, identifying the alternate cluster</span>
<span class="sd">    relationship without any errors or warnings. The device should contain one peripheral with two clusters:</span>
<span class="sd">    `ClusterA`, which is defined at address offset `0x0` and has no alternate cluster, and `ClusterB`, which</span>
<span class="sd">    shares the same address offset of `0x0` and is marked as an alternate of `ClusterA`. Both clusters should have</span>
<span class="sd">    the correct size of 32 bits, and the parser should ensure that the alternate cluster relationship is respected</span>
<span class="sd">    and processed as intended, consistent with `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_cluster.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_cluster.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_cluster<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_cluster_forward_reference">
<code class="highlight language-python"><span class="n">test_alternate_cluster_forward_reference</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle forward references in alternate cluster definitions.
In this test file, <code>ClusterA</code> is defined first and references <code>ClusterB</code> as its alternate cluster, even though
<code>ClusterB</code> is declared later in the file. While <code>svdconv</code> processes the file, it incorrectly issues a warning
that <code>ClusterB</code> has the same address as <code>ClusterA</code>, without properly recognizing the alternate cluster
relationship. A robust parser should correctly resolve the forward reference and process the file without
generating any incorrect warnings.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file without issuing any incorrect warnings.
It should correctly identify <code>ClusterA</code> as being located at address offset <code>0x0</code> with a size of 32 bits and
recognize <code>ClusterB</code> as its alternate cluster. Similarly, <code>ClusterB</code>, which is defined later in the file at
the same address offset and with the same size, should be processed correctly as an alternate cluster of
<code>ClusterA</code>. The parser should handle this forward reference without errors or misleading warnings, ensuring
that the alternate cluster relationship is respected and processed accurately, unlike <code>svdconv</code>, which
incorrectly generates a warning about the overlapping addresses.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_cluster_forward_reference</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle forward references in alternate cluster definitions.</span>
<span class="sd">    In this test file, `ClusterA` is defined first and references `ClusterB` as its alternate cluster, even though</span>
<span class="sd">    `ClusterB` is declared later in the file. While `svdconv` processes the file, it incorrectly issues a warning</span>
<span class="sd">    that `ClusterB` has the same address as `ClusterA`, without properly recognizing the alternate cluster</span>
<span class="sd">    relationship. A robust parser should correctly resolve the forward reference and process the file without</span>
<span class="sd">    generating any incorrect warnings.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file without issuing any incorrect warnings.</span>
<span class="sd">    It should correctly identify `ClusterA` as being located at address offset `0x0` with a size of 32 bits and</span>
<span class="sd">    recognize `ClusterB` as its alternate cluster. Similarly, `ClusterB`, which is defined later in the file at</span>
<span class="sd">    the same address offset and with the same size, should be processed correctly as an alternate cluster of</span>
<span class="sd">    `ClusterA`. The parser should handle this forward reference without errors or misleading warnings, ensuring</span>
<span class="sd">    that the alternate cluster relationship is respected and processed accurately, unlike `svdconv`, which</span>
<span class="sd">    incorrectly generates a warning about the overlapping addresses.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_cluster_forward_reference.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="ow">is</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_cluster_forward_reference.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_cluster_forward_reference<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterB<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_cluster_multiple">
<code class="highlight language-python"><span class="n">test_alternate_cluster_multiple</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates how the parser handles multiple clusters that share the same address and are designated as
alternates of one another. In this test file, <code>ClusterA</code> is defined at address offset <code>0x0</code>, and <code>ClusterB</code>,
<code>ClusterC</code>, and <code>ClusterD</code> are all also defined at the same address, but each is marked as an alternate of a
different cluster. <code>ClusterB</code> and <code>ClusterC</code> are alternates of <code>ClusterA</code>, while <code>ClusterD</code> is an alternate of
<code>ClusterC</code>. <code>svdconv</code> processes this file without any issues, and a parser implementation should also handle
these relationships correctly.</p>
<p><strong>Expected Outcome:</strong> The parser should process the SVD file successfully, recognizing the alternate relationships
between the clusters. The device should contain one peripheral with four clusters. <code>ClusterA</code> should be
defined at address offset <code>0x0</code> with a size of 32 bits and no alternate cluster. <code>ClusterB</code> and <code>ClusterC</code>
should also be defined at address offset <code>0x0</code>, both with a size of 32 bits, marked as alternates of
<code>ClusterA</code>. <code>ClusterD</code>, also at address offset <code>0x0</code> with the same size, should be marked as an alternate of
<code>ClusterC</code>. The parser should process this configuration without any warnings or errors, handling multiple
alternate cluster relationships as intended, consistent with the behavior of <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_cluster_multiple</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates how the parser handles multiple clusters that share the same address and are designated as</span>
<span class="sd">    alternates of one another. In this test file, `ClusterA` is defined at address offset `0x0`, and `ClusterB`,</span>
<span class="sd">    `ClusterC`, and `ClusterD` are all also defined at the same address, but each is marked as an alternate of a</span>
<span class="sd">    different cluster. `ClusterB` and `ClusterC` are alternates of `ClusterA`, while `ClusterD` is an alternate of</span>
<span class="sd">    `ClusterC`. `svdconv` processes this file without any issues, and a parser implementation should also handle</span>
<span class="sd">    these relationships correctly.</span>

<span class="sd">    **Expected Outcome:** The parser should process the SVD file successfully, recognizing the alternate relationships</span>
<span class="sd">    between the clusters. The device should contain one peripheral with four clusters. `ClusterA` should be</span>
<span class="sd">    defined at address offset `0x0` with a size of 32 bits and no alternate cluster. `ClusterB` and `ClusterC`</span>
<span class="sd">    should also be defined at address offset `0x0`, both with a size of 32 bits, marked as alternates of</span>
<span class="sd">    `ClusterA`. `ClusterD`, also at address offset `0x0` with the same size, should be marked as an alternate of</span>
<span class="sd">    `ClusterC`. The parser should process this configuration without any warnings or errors, handling multiple</span>
<span class="sd">    alternate cluster relationships as intended, consistent with the behavior of `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_cluster_multiple.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterD"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterC"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_cluster_multiple.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_cluster_multiple<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterC<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterC<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterD<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterD<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterC<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_cluster_overlap">
<code class="highlight language-python"><span class="n">test_alternate_cluster_overlap</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks how the parser handles clusters that overlap in memory but are designated as alternates of
each other. In this test file, <code>ClusterA</code> is defined at address offset <code>0x0</code>, and <code>ClusterB</code> is defined at
address offset <code>0x2</code>, causing a partial overlap in their memory space. <code>ClusterB</code> is marked as an alternate of
<code>ClusterA</code>, which allows for this overlap. <code>svdconv</code> processes this file without issues, and a parser
implementation should handle the overlapping memory regions correctly, considering the alternate relationship
between the clusters.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file successfully, identifying that <code>ClusterB</code> overlaps with
<code>ClusterA</code> but is marked as an alternate cluster, which makes the overlap valid. The device should contain one
peripheral with two clusters: <code>ClusterA</code> at address offset <code>0x0</code> with a size of 32 bits and no alternate
cluster, and <code>ClusterB</code> at address offset <code>0x2</code> with a size of 16 bits, marked as an alternate of <code>ClusterA</code>.
The parser should handle this alternate cluster relationship without any errors or warnings, ensuring that the
overlap is processed correctly, similar to <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_cluster_overlap</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks how the parser handles clusters that overlap in memory but are designated as alternates of</span>
<span class="sd">    each other. In this test file, `ClusterA` is defined at address offset `0x0`, and `ClusterB` is defined at</span>
<span class="sd">    address offset `0x2`, causing a partial overlap in their memory space. `ClusterB` is marked as an alternate of</span>
<span class="sd">    `ClusterA`, which allows for this overlap. `svdconv` processes this file without issues, and a parser</span>
<span class="sd">    implementation should handle the overlapping memory regions correctly, considering the alternate relationship</span>
<span class="sd">    between the clusters.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file successfully, identifying that `ClusterB` overlaps with</span>
<span class="sd">    `ClusterA` but is marked as an alternate cluster, which makes the overlap valid. The device should contain one</span>
<span class="sd">    peripheral with two clusters: `ClusterA` at address offset `0x0` with a size of 32 bits and no alternate</span>
<span class="sd">    cluster, and `ClusterB` at address offset `0x2` with a size of 16 bits, marked as an alternate of `ClusterA`.</span>
<span class="sd">    The parser should handle this alternate cluster relationship without any errors or warnings, ensuring that the</span>
<span class="sd">    overlap is processed correctly, similar to `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_cluster_overlap.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_cluster_overlap.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_cluster_overlap<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">            </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_cluster_same_name">
<code class="highlight language-python"><span class="n">test_alternate_cluster_same_name</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates whether the parser can handle the scenario where two clusters within the same peripheral
are given the same name, with one marked as an alternate of the other. In this test file, <code>ClusterA</code> is
defined, and another cluster also named <code>ClusterA</code> is marked as its alternate. This creates a naming conflict,
as clusters within the same peripheral must have unique names. <code>svdconv</code> raises an error in this case, and the
parser should behave similarly, rejecting the file due to the name conflict.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that two clusters with the same name cannot
exist within the same peripheral, even if one is designated as an alternate cluster. The file should fail to
process because both clusters are named <code>ClusterA</code>, creating a naming conflict. The parser should halt further
processing and notify the user about the issue, ensuring that cluster names are unique within a peripheral.
This behavior is consistent with <code>svdconv</code>, which also raises an error for this kind of conflict.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Alternate cluster has same name as other cluster"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_cluster_same_name</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates whether the parser can handle the scenario where two clusters within the same peripheral</span>
<span class="sd">    are given the same name, with one marked as an alternate of the other. In this test file, `ClusterA` is</span>
<span class="sd">    defined, and another cluster also named `ClusterA` is marked as its alternate. This creates a naming conflict,</span>
<span class="sd">    as clusters within the same peripheral must have unique names. `svdconv` raises an error in this case, and the</span>
<span class="sd">    parser should behave similarly, rejecting the file due to the name conflict.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that two clusters with the same name cannot</span>
<span class="sd">    exist within the same peripheral, even if one is designated as an alternate cluster. The file should fail to</span>
<span class="sd">    process because both clusters are named `ClusterA`, creating a naming conflict. The parser should halt further</span>
<span class="sd">    processing and notify the user about the issue, ensuring that cluster names are unique within a peripheral.</span>
<span class="sd">    This behavior is consistent with `svdconv`, which also raises an error for this kind of conflict.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_cluster_same_name.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_cluster_same_name.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_cluster_same_name<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_peripheral">
<code class="highlight language-python"><span class="n">test_alternate_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser correctly handles the scenario where two peripherals share the same base
address, with one peripheral explicitly designated as an alternate of the other. In the test file,
<code>PeripheralA</code> and <code>PeripheralB</code> are defined with the same base address of <code>0x40001000</code>, but <code>PeripheralB</code>
specifies <code>PeripheralA</code> as its alternate peripheral. This setup allows the peripherals to share the same
memory space, which must be explicitly defined to avoid conflicts. <code>svdconv</code> processes this file without
errors, and a parser implementation should do the same while respecting the alternate peripheral relationship.</p>
<p><strong>Expected Outcome:</strong> The parser should process the SVD file without errors, correctly identifying <code>PeripheralA</code>
and <code>PeripheralB</code> as sharing the same base address of <code>0x40001000</code>. The device should contain two peripherals.
<code>PeripheralA</code> should have no alternate peripheral specified, while <code>PeripheralB</code> should correctly list
<code>PeripheralA</code> as its alternate peripheral. Both peripherals should retain their respective properties, with
<code>PeripheralA</code> and <code>PeripheralB</code> each containing one register. The parser should handle this configuration
without any issues, ensuring that the alternate peripheral relationship is respected and processed in line
with the behavior of <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser correctly handles the scenario where two peripherals share the same base</span>
<span class="sd">    address, with one peripheral explicitly designated as an alternate of the other. In the test file,</span>
<span class="sd">    `PeripheralA` and `PeripheralB` are defined with the same base address of `0x40001000`, but `PeripheralB`</span>
<span class="sd">    specifies `PeripheralA` as its alternate peripheral. This setup allows the peripherals to share the same</span>
<span class="sd">    memory space, which must be explicitly defined to avoid conflicts. `svdconv` processes this file without</span>
<span class="sd">    errors, and a parser implementation should do the same while respecting the alternate peripheral relationship.</span>

<span class="sd">    **Expected Outcome:** The parser should process the SVD file without errors, correctly identifying `PeripheralA`</span>
<span class="sd">    and `PeripheralB` as sharing the same base address of `0x40001000`. The device should contain two peripherals.</span>
<span class="sd">    `PeripheralA` should have no alternate peripheral specified, while `PeripheralB` should correctly list</span>
<span class="sd">    `PeripheralA` as its alternate peripheral. Both peripherals should retain their respective properties, with</span>
<span class="sd">    `PeripheralA` and `PeripheralB` each containing one register. The parser should handle this configuration</span>
<span class="sd">    without any issues, ensuring that the alternate peripheral relationship is respected and processed in line</span>
<span class="sd">    with the behavior of `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_peripheral.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralA<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_peripheral_forward_reference">
<code class="highlight language-python"><span class="n">test_alternate_peripheral_forward_reference</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks how the parser handles cases where an alternate peripheral is referenced before its
declaration in the SVD file. In this scenario, <code>PeripheralA</code> is defined first and lists <code>PeripheralB</code> as its
alternate peripheral, even though <code>PeripheralB</code> is declared later in the file. Both peripherals share the same
base address of <code>0x40001000</code>. While <code>svdconv</code> raises an error because it cannot handle forward references in
alternate peripheral definitions, a more robust parser implementation should be able to process the file
without any errors or warnings by correctly resolving the forward reference.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file without raising any errors or warnings,
correctly resolving the forward reference between <code>PeripheralA</code> and <code>PeripheralB</code>. <code>PeripheralA</code> should be
identified with a base address of <code>0x40001000</code> and should correctly refer to <code>PeripheralB</code> as its alternate
peripheral. <code>PeripheralB</code>, which is defined later in the file, should also have a base address of <code>0x40001000</code>
and should not have an alternate peripheral. Both peripherals should be processed with their respective
properties intact, and the parser should handle the forward reference seamlessly, ensuring a superior parsing
experience compared to <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> no - error (Peripheral 'PeripheralB' (@0x40001000) has same address as 'PeripheralA'
(Line 18))</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_peripheral_forward_reference</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks how the parser handles cases where an alternate peripheral is referenced before its</span>
<span class="sd">    declaration in the SVD file. In this scenario, `PeripheralA` is defined first and lists `PeripheralB` as its</span>
<span class="sd">    alternate peripheral, even though `PeripheralB` is declared later in the file. Both peripherals share the same</span>
<span class="sd">    base address of `0x40001000`. While `svdconv` raises an error because it cannot handle forward references in</span>
<span class="sd">    alternate peripheral definitions, a more robust parser implementation should be able to process the file</span>
<span class="sd">    without any errors or warnings by correctly resolving the forward reference.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file without raising any errors or warnings,</span>
<span class="sd">    correctly resolving the forward reference between `PeripheralA` and `PeripheralB`. `PeripheralA` should be</span>
<span class="sd">    identified with a base address of `0x40001000` and should correctly refer to `PeripheralB` as its alternate</span>
<span class="sd">    peripheral. `PeripheralB`, which is defined later in the file, should also have a base address of `0x40001000`</span>
<span class="sd">    and should not have an alternate peripheral. Both peripherals should be processed with their respective</span>
<span class="sd">    properties intact, and the parser should handle the forward reference seamlessly, ensuring a superior parsing</span>
<span class="sd">    experience compared to `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** no - error (Peripheral 'PeripheralB' (@0x40001000) has same address as 'PeripheralA'</span>
<span class="sd">    (Line 18))</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_peripheral_forward_reference.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_peripheral_forward_reference.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_peripheral_forward_reference<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralB<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_peripheral_multiple">
<code class="highlight language-python"><span class="n">test_alternate_peripheral_multiple</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle a scenario where multiple peripherals share the same
base address and are designated as alternate peripherals of the same primary peripheral. In this test file,
<code>PeripheralA</code> is the primary peripheral with a base address of <code>0x40001000</code>, and both <code>PeripheralB</code> and
<code>PeripheralC</code> share the same base address but are marked as alternate peripherals of <code>PeripheralA</code>. This setup
is valid, and <code>svdconv</code> processes the file without any issues. A parser implementation should also handle this
configuration smoothly, allowing multiple alternate peripherals without raising errors or warnings.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, correctly identifying that
<code>PeripheralB</code> and <code>PeripheralC</code> share the same base address as <code>PeripheralA</code> and are marked as alternate
peripherals. The device should contain three peripherals: <code>PeripheralA</code> with a base address of <code>0x40001000</code>
and no alternate peripheral, <code>PeripheralB</code> with the same base address and marked as an alternate peripheral of
<code>PeripheralA</code>, and <code>PeripheralC</code>, also with the same base address, similarly marked as an alternate peripheral
of <code>PeripheralA</code>. Each peripheral should have its respective registers, and the parser should handle the
alternate peripheral relationships without any errors or warnings, consistent with how <code>svdconv</code> processes
such files.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_peripheral_multiple</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle a scenario where multiple peripherals share the same</span>
<span class="sd">    base address and are designated as alternate peripherals of the same primary peripheral. In this test file,</span>
<span class="sd">    `PeripheralA` is the primary peripheral with a base address of `0x40001000`, and both `PeripheralB` and</span>
<span class="sd">    `PeripheralC` share the same base address but are marked as alternate peripherals of `PeripheralA`. This setup</span>
<span class="sd">    is valid, and `svdconv` processes the file without any issues. A parser implementation should also handle this</span>
<span class="sd">    configuration smoothly, allowing multiple alternate peripherals without raising errors or warnings.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, correctly identifying that</span>
<span class="sd">    `PeripheralB` and `PeripheralC` share the same base address as `PeripheralA` and are marked as alternate</span>
<span class="sd">    peripherals. The device should contain three peripherals: `PeripheralA` with a base address of `0x40001000`</span>
<span class="sd">    and no alternate peripheral, `PeripheralB` with the same base address and marked as an alternate peripheral of</span>
<span class="sd">    `PeripheralA`, and `PeripheralC`, also with the same base address, similarly marked as an alternate peripheral</span>
<span class="sd">    of `PeripheralA`. Each peripheral should have its respective registers, and the parser should handle the</span>
<span class="sd">    alternate peripheral relationships without any errors or warnings, consistent with how `svdconv` processes</span>
<span class="sd">    such files.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_peripheral_multiple.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_peripheral_multiple.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_peripheral_multiple<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralA<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralC<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralA<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_peripheral_multiple_svdconv_warning">
<code class="highlight language-python"><span class="n">test_alternate_peripheral_multiple_svdconv_warning</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates how the parser handles a scenario where multiple peripherals share the same base address
and are designated as alternates of other peripherals. In this test file, <code>PeripheralA</code>, <code>PeripheralB</code>,
<code>PeripheralC</code>, and <code>PeripheralD</code> all share the same base address of <code>0x40001000</code>. <code>PeripheralB</code> and
<code>PeripheralC</code> are alternates of <code>PeripheralA</code>, and <code>PeripheralD</code> is an alternate of <code>PeripheralC</code>. Although
<code>svdconv</code> processes this file, it incorrectly generates a warning stating that <code>PeripheralD</code> overlaps with
<code>PeripheralA</code>, without respecting the alternate peripheral relationships. A more robust parser should process
this configuration without generating such an incorrect warning.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file without any errors or incorrect warnings, correctly
recognizing the alternate relationships. The device should contain four peripherals: <code>PeripheralA</code> with a base
address of <code>0x40001000</code> and no alternate, <code>PeripheralB</code> and <code>PeripheralC</code>, both with the same base address and
marked as alternates of <code>PeripheralA</code>, and <code>PeripheralD</code>, which also shares the same base address but is an
alternate of <code>PeripheralC</code>. Each peripheral should have its own registers, and the parser should handle this
setup seamlessly, ensuring that the alternate relationships are processed correctly without the erroneous
warnings generated by <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_peripheral_multiple_svdconv_warning</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates how the parser handles a scenario where multiple peripherals share the same base address</span>
<span class="sd">    and are designated as alternates of other peripherals. In this test file, `PeripheralA`, `PeripheralB`,</span>
<span class="sd">    `PeripheralC`, and `PeripheralD` all share the same base address of `0x40001000`. `PeripheralB` and</span>
<span class="sd">    `PeripheralC` are alternates of `PeripheralA`, and `PeripheralD` is an alternate of `PeripheralC`. Although</span>
<span class="sd">    `svdconv` processes this file, it incorrectly generates a warning stating that `PeripheralD` overlaps with</span>
<span class="sd">    `PeripheralA`, without respecting the alternate peripheral relationships. A more robust parser should process</span>
<span class="sd">    this configuration without generating such an incorrect warning.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file without any errors or incorrect warnings, correctly</span>
<span class="sd">    recognizing the alternate relationships. The device should contain four peripherals: `PeripheralA` with a base</span>
<span class="sd">    address of `0x40001000` and no alternate, `PeripheralB` and `PeripheralC`, both with the same base address and</span>
<span class="sd">    marked as alternates of `PeripheralA`, and `PeripheralD`, which also shares the same base address but is an</span>
<span class="sd">    alternate of `PeripheralC`. Each peripheral should have its own registers, and the parser should handle this</span>
<span class="sd">    setup seamlessly, ensuring that the alternate relationships are processed correctly without the erroneous</span>
<span class="sd">    warnings generated by `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_peripheral_multiple_svdconv_warning.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralD"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralC"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_peripheral_multiple_svdconv_warning.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_peripheral_multiple_svdconv_warning<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralA<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralC<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralA<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralD<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralC<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_peripheral_overlap">
<code class="highlight language-python"><span class="n">test_alternate_peripheral_overlap</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle the scenario where two peripherals overlap in their
memory address space, but one is designated as an alternate peripheral of the other. In this test file,
<code>PeripheralA</code> starts at base address <code>0x40001000</code>, and <code>PeripheralB</code> starts at <code>0x40001500</code>, partially
overlapping with <code>PeripheralA</code>. Since <code>PeripheralB</code> is explicitly marked as an alternate peripheral of
<code>PeripheralA</code>, this overlap is allowed without raising an error or warning. <code>svdconv</code> processes this without
issue, and a parser implementation should behave similarly, handling the overlap correctly when alternate
peripherals are defined.</p>
<p><strong>Expected Outcome:</strong> The parser should process the SVD file successfully without raising any errors or warnings.
The device should contain two peripherals: <code>PeripheralA</code> with a base address of <code>0x40001000</code> and no alternate
peripheral, and <code>PeripheralB</code> with a base address of <code>0x40001500</code>, which overlaps with <code>PeripheralA</code> but is
correctly marked as an alternate peripheral of <code>PeripheralA</code>. Both peripherals should contain their respective
registers, and the parser should ensure that the overlap is handled correctly due to the alternate peripheral
relationship, consistent with how <code>svdconv</code> handles such scenarios.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_peripheral_overlap</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle the scenario where two peripherals overlap in their</span>
<span class="sd">    memory address space, but one is designated as an alternate peripheral of the other. In this test file,</span>
<span class="sd">    `PeripheralA` starts at base address `0x40001000`, and `PeripheralB` starts at `0x40001500`, partially</span>
<span class="sd">    overlapping with `PeripheralA`. Since `PeripheralB` is explicitly marked as an alternate peripheral of</span>
<span class="sd">    `PeripheralA`, this overlap is allowed without raising an error or warning. `svdconv` processes this without</span>
<span class="sd">    issue, and a parser implementation should behave similarly, handling the overlap correctly when alternate</span>
<span class="sd">    peripherals are defined.</span>

<span class="sd">    **Expected Outcome:** The parser should process the SVD file successfully without raising any errors or warnings.</span>
<span class="sd">    The device should contain two peripherals: `PeripheralA` with a base address of `0x40001000` and no alternate</span>
<span class="sd">    peripheral, and `PeripheralB` with a base address of `0x40001500`, which overlaps with `PeripheralA` but is</span>
<span class="sd">    correctly marked as an alternate peripheral of `PeripheralA`. Both peripherals should contain their respective</span>
<span class="sd">    registers, and the parser should ensure that the overlap is handled correctly due to the alternate peripheral</span>
<span class="sd">    relationship, consistent with how `svdconv` handles such scenarios.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_peripheral_overlap.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001500</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_peripheral</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_peripheral_overlap.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_peripheral_overlap<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralA<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001500<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_peripheral_same_name">
<code class="highlight language-python"><span class="n">test_alternate_peripheral_same_name</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates whether the parser can correctly detect and handle the situation where a peripheral is
marked as an alternate peripheral of another peripheral with the same name. In this test file, two peripherals
share the same name, and one is designated as an alternate peripheral of the other. This scenario introduces
ambiguity and conflicts in memory mapping and identification, as each peripheral must have a unique name.
<code>svdconv</code> raises an error in this case due to the naming conflict, and a parser should similarly reject this
file to prevent confusion in the device definition.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that a peripheral cannot be marked as an
alternate peripheral of another peripheral with the same name. Both peripherals are named identically, which
creates ambiguity and violates the requirement for unique peripheral names. The parser should halt processing
and notify the user of the conflict, ensuring that each peripheral is uniquely identified. This behavior
aligns with <code>svdconv</code>, which also raises an error in such cases, preventing the SVD file from being processed
due to the naming conflict.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Alternate peripheral has same name as other peripheral"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_peripheral_same_name</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates whether the parser can correctly detect and handle the situation where a peripheral is</span>
<span class="sd">    marked as an alternate peripheral of another peripheral with the same name. In this test file, two peripherals</span>
<span class="sd">    share the same name, and one is designated as an alternate peripheral of the other. This scenario introduces</span>
<span class="sd">    ambiguity and conflicts in memory mapping and identification, as each peripheral must have a unique name.</span>
<span class="sd">    `svdconv` raises an error in this case due to the naming conflict, and a parser should similarly reject this</span>
<span class="sd">    file to prevent confusion in the device definition.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that a peripheral cannot be marked as an</span>
<span class="sd">    alternate peripheral of another peripheral with the same name. Both peripherals are named identically, which</span>
<span class="sd">    creates ambiguity and violates the requirement for unique peripheral names. The parser should halt processing</span>
<span class="sd">    and notify the user of the conflict, ensuring that each peripheral is uniquely identified. This behavior</span>
<span class="sd">    aligns with `svdconv`, which also raises an error in such cases, preventing the SVD file from being processed</span>
<span class="sd">    due to the naming conflict.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_peripheral_same_name.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_peripheral_same_name.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_peripheral_same_name<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;alternatePeripheral&gt;</span>PeripheralA<span class="nt">&lt;/alternatePeripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_register">
<code class="highlight language-python"><span class="n">test_alternate_register</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser correctly handles registers that are marked as alternate registers. In
this test file, <code>RegisterB</code> is defined as an alternate register of <code>RegisterA</code>, meaning that both registers
share the same address but have different functionalities or configurations. The test ensures that the parser
can handle the alternate register relationship without issues. <code>svdconv</code> processes this file without errors,
and a parser implementation should also be able to handle this scenario correctly.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, correctly identifying that <code>RegisterB</code>
is an alternate register of <code>RegisterA</code>. The device should contain one peripheral with two registers:
<code>RegisterA</code>, which has an address offset of <code>0x0</code> and a size of 32 bits, and <code>RegisterB</code>, which also has an
address offset of <code>0x0</code> and a size of 32 bits but is marked as an alternate register of <code>RegisterA</code>. The
parser should accurately reflect this relationship without any warnings or errors, ensuring that the alternate
register configuration is handled properly, consistent with the behavior of <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_register</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser correctly handles registers that are marked as alternate registers. In</span>
<span class="sd">    this test file, `RegisterB` is defined as an alternate register of `RegisterA`, meaning that both registers</span>
<span class="sd">    share the same address but have different functionalities or configurations. The test ensures that the parser</span>
<span class="sd">    can handle the alternate register relationship without issues. `svdconv` processes this file without errors,</span>
<span class="sd">    and a parser implementation should also be able to handle this scenario correctly.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, correctly identifying that `RegisterB`</span>
<span class="sd">    is an alternate register of `RegisterA`. The device should contain one peripheral with two registers:</span>
<span class="sd">    `RegisterA`, which has an address offset of `0x0` and a size of 32 bits, and `RegisterB`, which also has an</span>
<span class="sd">    address offset of `0x0` and a size of 32 bits but is marked as an alternate register of `RegisterA`. The</span>
<span class="sd">    parser should accurately reflect this relationship without any warnings or errors, ensuring that the alternate</span>
<span class="sd">    register configuration is handled properly, consistent with the behavior of `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_register.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_register.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_register<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterA<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_register_and_alternate_group_exception">
<code class="highlight language-python"><span class="n">test_alternate_register_and_alternate_group_exception</span></code>
</h2>
<div class="doc doc-contents">
<p>TODO: Add description</p>
<p><strong>Expected Outcome:</strong> TODO</p>
<p><strong>Processable with svdconv:</strong> yes - but it shouldn't since it is contrary to the SVD standard</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"alternateGroup and alternateRegister are mutually exclusive"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_register_and_alternate_group_exception</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    TODO: Add description</span>

<span class="sd">    **Expected Outcome:** TODO</span>

<span class="sd">    **Processable with svdconv:** yes - but it shouldn't since it is contrary to the SVD standard</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_register_and_alternate_group_exception.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_register_and_alternate_group_exception.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_register_and_alternate_group_exception<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>GroupA<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterB<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_register_forward_reference">
<code class="highlight language-python"><span class="n">test_alternate_register_forward_reference</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks how the parser handles cases where a register is marked as an alternate register of another
register before the latter is defined. In this test file, <code>RegisterA</code> refers to <code>RegisterB</code> as its alternate
register, even though <code>RegisterB</code> is declared later in the file. While <code>svdconv</code> cannot handle forward
references in alternate register definitions and raises an error, a robust parser implementation should
resolve this forward reference and process the file without any issues.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file without raising any errors or warnings,
correctly resolving the forward reference between <code>RegisterA</code> and <code>RegisterB</code>. The device should contain one
peripheral with two registers: <code>RegisterA</code>, which has an address offset of <code>0x0</code> and a size of 32 bits, and
lists <code>RegisterB</code> as its alternate register. <code>RegisterB</code>, declared later, should also have an address offset
of <code>0x0</code> and a size of 32 bits but does not have an alternate register. The parser should handle this forward
reference seamlessly, ensuring that both registers are processed correctly, without any of the limitations
present in <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_register_forward_reference</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks how the parser handles cases where a register is marked as an alternate register of another</span>
<span class="sd">    register before the latter is defined. In this test file, `RegisterA` refers to `RegisterB` as its alternate</span>
<span class="sd">    register, even though `RegisterB` is declared later in the file. While `svdconv` cannot handle forward</span>
<span class="sd">    references in alternate register definitions and raises an error, a robust parser implementation should</span>
<span class="sd">    resolve this forward reference and process the file without any issues.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file without raising any errors or warnings,</span>
<span class="sd">    correctly resolving the forward reference between `RegisterA` and `RegisterB`. The device should contain one</span>
<span class="sd">    peripheral with two registers: `RegisterA`, which has an address offset of `0x0` and a size of 32 bits, and</span>
<span class="sd">    lists `RegisterB` as its alternate register. `RegisterB`, declared later, should also have an address offset</span>
<span class="sd">    of `0x0` and a size of 32 bits but does not have an alternate register. The parser should handle this forward</span>
<span class="sd">    reference seamlessly, ensuring that both registers are processed correctly, without any of the limitations</span>
<span class="sd">    present in `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_register_forward_reference.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="ow">is</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_register_forward_reference.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_register_forward_reference<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterB<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_register_multiple">
<code class="highlight language-python"><span class="n">test_alternate_register_multiple</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser can handle multiple registers that share the same address and are designated
as alternates of one another. In this test file, <code>RegisterA</code> is defined at address offset <code>0x0</code> and serves as
the primary register. <code>RegisterB</code>, <code>RegisterC</code>, and <code>RegisterD</code> are also defined at the same address, with
each marked as an alternate register. <code>RegisterB</code> and <code>RegisterC</code> are alternates of <code>RegisterA</code>, and
<code>RegisterD</code> is an alternate of <code>RegisterC</code>. While <code>svdconv</code> processes this file without issue, the parser
should also handle the configuration without raising any errors.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file successfully, correctly identifying the relationships
between the registers. <code>RegisterA</code> should be recognized as the primary register, with <code>RegisterB</code> and
<code>RegisterC</code> being alternates of <code>RegisterA</code>. <code>RegisterD</code> should be recognized as an alternate of <code>RegisterC</code>.
All registers share the same address offset of <code>0x0</code> and have a size of 32 bits. The parser should handle this
setup without issuing any warnings or errors, ensuring it processes the multiple alternate register
relationships as expected, similar to <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_register_multiple</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser can handle multiple registers that share the same address and are designated</span>
<span class="sd">    as alternates of one another. In this test file, `RegisterA` is defined at address offset `0x0` and serves as</span>
<span class="sd">    the primary register. `RegisterB`, `RegisterC`, and `RegisterD` are also defined at the same address, with</span>
<span class="sd">    each marked as an alternate register. `RegisterB` and `RegisterC` are alternates of `RegisterA`, and</span>
<span class="sd">    `RegisterD` is an alternate of `RegisterC`. While `svdconv` processes this file without issue, the parser</span>
<span class="sd">    should also handle the configuration without raising any errors.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file successfully, correctly identifying the relationships</span>
<span class="sd">    between the registers. `RegisterA` should be recognized as the primary register, with `RegisterB` and</span>
<span class="sd">    `RegisterC` being alternates of `RegisterA`. `RegisterD` should be recognized as an alternate of `RegisterC`.</span>
<span class="sd">    All registers share the same address offset of `0x0` and have a size of 32 bits. The parser should handle this</span>
<span class="sd">    setup without issuing any warnings or errors, ensuring it processes the multiple alternate register</span>
<span class="sd">    relationships as expected, similar to `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_register_multiple.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterD"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="o">==</span> <span class="s2">"RegisterC"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_register_multiple.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_register_multiple<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterA<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterC<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterA<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterD<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterC<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_register_overlap">
<code class="highlight language-python"><span class="n">test_alternate_register_overlap</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle registers that overlap in memory but are defined as
alternate registers. In this test file, <code>RegisterA</code> is defined at address offset <code>0x0</code>, and <code>RegisterB</code> is
defined at address offset <code>0x2</code> with overlapping memory space. <code>RegisterB</code> is marked as an alternate register
of <code>RegisterA</code>, allowing for the overlap. <code>svdconv</code> processes this file without any issues or warnings, and a
parser implementation should also handle this scenario smoothly without raising any warnings or errors.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, correctly identifying that <code>RegisterB</code>
overlaps with <code>RegisterA</code> and is marked as an alternate register. The device should contain one peripheral
with two registers: <code>RegisterA</code> at address offset <code>0x0</code> with a size of 32 bits and <code>RegisterB</code> at address
offset <code>0x2</code> with a size of 16 bits, which overlaps with <code>RegisterA</code> but is marked as its alternate register.
The parser should handle this configuration without any warnings or errors, similar to <code>svdconv</code>, ensuring
that the alternate register relationship is processed correctly despite the overlapping memory addresses.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_register_overlap</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle registers that overlap in memory but are defined as</span>
<span class="sd">    alternate registers. In this test file, `RegisterA` is defined at address offset `0x0`, and `RegisterB` is</span>
<span class="sd">    defined at address offset `0x2` with overlapping memory space. `RegisterB` is marked as an alternate register</span>
<span class="sd">    of `RegisterA`, allowing for the overlap. `svdconv` processes this file without any issues or warnings, and a</span>
<span class="sd">    parser implementation should also handle this scenario smoothly without raising any warnings or errors.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, correctly identifying that `RegisterB`</span>
<span class="sd">    overlaps with `RegisterA` and is marked as an alternate register. The device should contain one peripheral</span>
<span class="sd">    with two registers: `RegisterA` at address offset `0x0` with a size of 32 bits and `RegisterB` at address</span>
<span class="sd">    offset `0x2` with a size of 16 bits, which overlaps with `RegisterA` but is marked as its alternate register.</span>
<span class="sd">    The parser should handle this configuration without any warnings or errors, similar to `svdconv`, ensuring</span>
<span class="sd">    that the alternate register relationship is processed correctly despite the overlapping memory addresses.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_register_overlap.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_register</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_register_overlap.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_register_overlap<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterA<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_alternate_register_same_name">
<code class="highlight language-python"><span class="n">test_alternate_register_same_name</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks how the parser handles a situation where a register is marked as an alternate register of
another register with the same name within the same peripheral. In this test file, <code>RegisterA</code> is defined as a
regular register, and another <code>RegisterA</code> is defined as its alternate, causing a naming conflict. <code>svdconv</code>
raises an error in this case, as registers within the same peripheral must have unique names, even if one is
marked as an alternate. A parser implementation should also detect this naming conflict and raise an
appropriate error.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that <code>RegisterA</code> cannot be defined as both a
regular register and an alternate register with the same name within the same peripheral. The file should fail
to process due to the naming conflict, as each register in a peripheral must have a unique identifier to avoid
ambiguity. The parser should halt processing and notify the user of the conflict, ensuring that register names
remain distinct, which aligns with the behavior of <code>svdconv</code>, which also raises an error in this case.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Alternate register has same name as other register"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_register_same_name</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks how the parser handles a situation where a register is marked as an alternate register of</span>
<span class="sd">    another register with the same name within the same peripheral. In this test file, `RegisterA` is defined as a</span>
<span class="sd">    regular register, and another `RegisterA` is defined as its alternate, causing a naming conflict. `svdconv`</span>
<span class="sd">    raises an error in this case, as registers within the same peripheral must have unique names, even if one is</span>
<span class="sd">    marked as an alternate. A parser implementation should also detect this naming conflict and raise an</span>
<span class="sd">    appropriate error.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that `RegisterA` cannot be defined as both a</span>
<span class="sd">    regular register and an alternate register with the same name within the same peripheral. The file should fail</span>
<span class="sd">    to process due to the naming conflict, as each register in a peripheral must have a unique identifier to avoid</span>
<span class="sd">    ambiguity. The parser should halt processing and notify the user of the conflict, ensuring that register names</span>
<span class="sd">    remain distinct, which aligns with the behavior of `svdconv`, which also raises an error in this case.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/alternate_register_same_name.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/alternate_register_same_name.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_register_same_name<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateRegister&gt;</span>RegisterA<span class="nt">&lt;/alternateRegister&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_different_register_names_in_peripheral">
<code class="highlight language-python"><span class="n">test_different_register_names_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser correctly processes a peripheral containing multiple registers, each with a
unique name, but no address overlap. The test file includes a single peripheral that contains two distinct
registers, <code>RegisterA</code> and <code>RegisterB</code>, each with different address offsets and properties. The purpose of the
test is to verify that the parser can accurately differentiate between registers with different names within
the same peripheral and correctly handle their respective properties.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, identifying that the peripheral
contains two registers, <code>RegisterA</code> and <code>RegisterB</code>. <code>RegisterA</code> should have an address offset of <code>0x0</code> and a
size of 32 bits, while <code>RegisterB</code> should have an address offset of <code>0x4</code> and a size of 32 bits. The parser
should correctly handle both registers, ensuring that they are uniquely identified within the same peripheral
without any naming conflicts or errors.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_different_register_names_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser correctly processes a peripheral containing multiple registers, each with a</span>
<span class="sd">    unique name, but no address overlap. The test file includes a single peripheral that contains two distinct</span>
<span class="sd">    registers, `RegisterA` and `RegisterB`, each with different address offsets and properties. The purpose of the</span>
<span class="sd">    test is to verify that the parser can accurately differentiate between registers with different names within</span>
<span class="sd">    the same peripheral and correctly handle their respective properties.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, identifying that the peripheral</span>
<span class="sd">    contains two registers, `RegisterA` and `RegisterB`. `RegisterA` should have an address offset of `0x0` and a</span>
<span class="sd">    size of 32 bits, while `RegisterB` should have an address offset of `0x4` and a size of 32 bits. The parser</span>
<span class="sd">    should correctly handle both registers, ensuring that they are uniquely identified within the same peripheral</span>
<span class="sd">    without any naming conflicts or errors.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/different_register_names_in_peripheral.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/different_register_names_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>different_register_names_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_field_bit_range_processing">
<code class="highlight language-python"><span class="n">test_field_bit_range_processing</span></code>
</h2>
<div class="doc doc-contents">
<p>This test validates the parser's ability to process and interpret bit ranges in a field using three mutually
exclusive methods defined by the CMSIS-SVD standard: bitRangeOffsetWidthStyle, bitRangeLsbMsbStyle, and
bitRangePattern. Each method offers a different way to describe the position and width of a field within a
register. The parser must correctly process fields defined by any of these methods and convert them into a
consistent internal representation of the least significant bit (LSB) and the most significant bit (MSB) of
the field.</p>
<p><strong>Expected Outcome:</strong> The parser should correctly process the SVD file and handle all three bit range formats
without errors. It should translate the fields defined by bitOffset/bitWidth, lsb/msb, and bitRange into
consistent LSB and MSB values. Specifically, <code>FieldA</code>, <code>FieldB</code>, and <code>FieldC</code> should have correctly processed
bit positions, ensuring that the register is fully described with non-overlapping bit fields from LSB 0 to MSB
11.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_field_bit_range_processing</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test validates the parser's ability to process and interpret bit ranges in a field using three mutually</span>
<span class="sd">    exclusive methods defined by the CMSIS-SVD standard: bitRangeOffsetWidthStyle, bitRangeLsbMsbStyle, and</span>
<span class="sd">    bitRangePattern. Each method offers a different way to describe the position and width of a field within a</span>
<span class="sd">    register. The parser must correctly process fields defined by any of these methods and convert them into a</span>
<span class="sd">    consistent internal representation of the least significant bit (LSB) and the most significant bit (MSB) of</span>
<span class="sd">    the field.</span>

<span class="sd">    **Expected Outcome:** The parser should correctly process the SVD file and handle all three bit range formats</span>
<span class="sd">    without errors. It should translate the fields defined by bitOffset/bitWidth, lsb/msb, and bitRange into</span>
<span class="sd">    consistent LSB and MSB values. Specifically, `FieldA`, `FieldB`, and `FieldC` should have correctly processed</span>
<span class="sd">    bit positions, ensuring that the register is fully described with non-overlapping bit fields from LSB 0 to MSB</span>
<span class="sd">    11.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/field_bit_range_processing.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"FieldA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lsb</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">msb</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"FieldB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lsb</span> <span class="o">==</span> <span class="mi">4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">msb</span> <span class="o">==</span> <span class="mi">7</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"FieldC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lsb</span> <span class="o">==</span> <span class="mi">8</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">msb</span> <span class="o">==</span> <span class="mi">11</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/field_bit_range_processing.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>field_bit_range_processing<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;fields&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitOffset&gt;</span>0<span class="nt">&lt;/bitOffset&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitWidth&gt;</span>4<span class="nt">&lt;/bitWidth&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldB<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;lsb&gt;</span>4<span class="nt">&lt;/lsb&gt;</span>
<span class="w">              </span><span class="nt">&lt;msb&gt;</span>7<span class="nt">&lt;/msb&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldC<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitRange&gt;</span>[11:8]<span class="nt">&lt;/bitRange&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">          </span><span class="nt">&lt;/fields&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_field_illogical_values_in_bitrangepattern">
<code class="highlight language-python"><span class="n">test_field_illogical_values_in_bitrangepattern</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks if the parser correctly handles a <code>bitRangePattern</code> where the least significant bit (LSB) is
greater than the most significant bit (MSB).</p>
<p><strong>Expected Outcome:</strong> The parser should raise a warning indicating that the bit range is illogical because the LSB
is greater than the MSB and should switch the values of LSB and MSB.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_field_illogical_values_in_bitrangepattern</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks if the parser correctly handles a `bitRangePattern` where the least significant bit (LSB) is</span>
<span class="sd">    greater than the most significant bit (MSB).</span>

<span class="sd">    **Expected Outcome:** The parser should raise a warning indicating that the bit range is illogical because the LSB</span>
<span class="sd">    is greater than the MSB and should switch the values of LSB and MSB.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/field_illogical_values_in_bitrangepattern.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"FieldA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lsb</span> <span class="o">==</span> <span class="mi">8</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">msb</span> <span class="o">==</span> <span class="mi">11</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/field_illogical_values_in_bitrangepattern.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>field_illogical_values_in_bitrangepattern<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;fields&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitRange&gt;</span>[8:11]<span class="nt">&lt;/bitRange&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">          </span><span class="nt">&lt;/fields&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_field_wrong_string_in_bitrangepattern">
<code class="highlight language-python"><span class="n">test_field_wrong_string_in_bitrangepattern</span></code>
</h2>
<div class="doc doc-contents">
<p>The <code>bitRangePattern</code> must conform to the format <code>\[([0-6])?[0-9]:([0-6])?[0-9]\]</code>, as defined by the CMSIS-
SVD standard. If the string in <code>bitRangePattern</code> does not match this pattern, an error should be raised. This
test ensures that the parser validates the bit range format correctly, in line with how <code>svdconv</code> behaves when
encountering invalid bit range strings.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that the string in the <code>bitRangePattern</code> is
incorrect, as it does not match the required format. The test will fail if the parser does not handle this
invalid format appropriately, which corresponds with the behavior seen in <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Wrong string in bitRangePattern"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_field_wrong_string_in_bitrangepattern</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    The `bitRangePattern` must conform to the format `\\[([0-6])?[0-9]:([0-6])?[0-9]\\]`, as defined by the CMSIS-</span>
<span class="sd">    SVD standard. If the string in `bitRangePattern` does not match this pattern, an error should be raised. This</span>
<span class="sd">    test ensures that the parser validates the bit range format correctly, in line with how `svdconv` behaves when</span>
<span class="sd">    encountering invalid bit range strings.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that the string in the `bitRangePattern` is</span>
<span class="sd">    incorrect, as it does not match the required format. The test will fail if the parser does not handle this</span>
<span class="sd">    invalid format appropriately, which corresponds with the behavior seen in `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/field_wrong_string_in_bitrangepattern.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/field_wrong_string_in_bitrangepattern.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>field_wrong_string_in_bitrangepattern<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;fields&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitRange&gt;</span>[11-8]<span class="nt">&lt;/bitRange&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">          </span><span class="nt">&lt;/fields&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_fields_overlap_bit_offset">
<code class="highlight language-python"><span class="n">test_fields_overlap_bit_offset</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser correctly identifies overlapping fields within the same register, where
multiple fields are assigned the same bit offset or range. In the CMSIS-SVD standard, fields within a register
must occupy unique, non-overlapping bit ranges. If two fields share the same bit offset, it creates a conflict
that can lead to incorrect behavior in the device description. The parser must detect such overlaps and raise
an error.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that two fields within the same register overlap
in their bit offsets. The device description should not be processed further due to this conflict, ensuring
that the integrity of the SVD file is maintained.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Field overlaps other field"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_fields_overlap_bit_offset</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser correctly identifies overlapping fields within the same register, where</span>
<span class="sd">    multiple fields are assigned the same bit offset or range. In the CMSIS-SVD standard, fields within a register</span>
<span class="sd">    must occupy unique, non-overlapping bit ranges. If two fields share the same bit offset, it creates a conflict</span>
<span class="sd">    that can lead to incorrect behavior in the device description. The parser must detect such overlaps and raise</span>
<span class="sd">    an error.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that two fields within the same register overlap</span>
<span class="sd">    in their bit offsets. The device description should not be processed further due to this conflict, ensuring</span>
<span class="sd">    that the integrity of the SVD file is maintained.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/fields_overlap_bit_offset.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/fields_overlap_bit_offset.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>fields_overlap_bit_offset<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;fields&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitOffset&gt;</span>0<span class="nt">&lt;/bitOffset&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitWidth&gt;</span>4<span class="nt">&lt;/bitWidth&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldB<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitOffset&gt;</span>3<span class="nt">&lt;/bitOffset&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitWidth&gt;</span>4<span class="nt">&lt;/bitWidth&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">          </span><span class="nt">&lt;/fields&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_fields_same_bit_offset">
<code class="highlight language-python"><span class="n">test_fields_same_bit_offset</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser correctly identifies fields with the same range within a register. In the
CMSIS-SVD standard, fields within a register must occupy unique, non-overlapping bit ranges. If two fields
share the same range, it creates a conflict that can lead to incorrect behavior in the device description. The
parser must detect such overlaps and raise an error.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that two fields within the same register have
the same range. The device description should not be processed further due to this conflict, ensuring that the
integrity of the SVD file is maintained.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Field overlaps other field"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_fields_same_bit_offset</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser correctly identifies fields with the same range within a register. In the</span>
<span class="sd">    CMSIS-SVD standard, fields within a register must occupy unique, non-overlapping bit ranges. If two fields</span>
<span class="sd">    share the same range, it creates a conflict that can lead to incorrect behavior in the device description. The</span>
<span class="sd">    parser must detect such overlaps and raise an error.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that two fields within the same register have</span>
<span class="sd">    the same range. The device description should not be processed further due to this conflict, ensuring that the</span>
<span class="sd">    integrity of the SVD file is maintained.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/fields_same_bit_offset.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/fields_same_bit_offset.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>fields_same_bit_offset<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;fields&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitOffset&gt;</span>0<span class="nt">&lt;/bitOffset&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitWidth&gt;</span>4<span class="nt">&lt;/bitWidth&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldB<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitOffset&gt;</span>0<span class="nt">&lt;/bitOffset&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitWidth&gt;</span>4<span class="nt">&lt;/bitWidth&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">          </span><span class="nt">&lt;/fields&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_fields_same_names">
<code class="highlight language-python"><span class="n">test_fields_same_names</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser correctly identifies and handles cases where two fields within the same
register are given the same name. In the CMSIS-SVD standard, field names within a register must be unique. If
two fields share the same name, it creates ambiguity, which could lead to incorrect behavior in the device
description. <code>svdconv</code> correctly identifies this issue as error, whereas the parser should explicitly raise an
error, preventing the creation of registers with duplicated field names.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that two fields within the same register share
the same name. The device should not be processed further, and the parser must halt execution due to the field
naming conflict, ensuring the integrity of the SVD description.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Field has same name as other field"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_fields_same_names</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser correctly identifies and handles cases where two fields within the same</span>
<span class="sd">    register are given the same name. In the CMSIS-SVD standard, field names within a register must be unique. If</span>
<span class="sd">    two fields share the same name, it creates ambiguity, which could lead to incorrect behavior in the device</span>
<span class="sd">    description. `svdconv` correctly identifies this issue as error, whereas the parser should explicitly raise an</span>
<span class="sd">    error, preventing the creation of registers with duplicated field names.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that two fields within the same register share</span>
<span class="sd">    the same name. The device should not be processed further, and the parser must halt execution due to the field</span>
<span class="sd">    naming conflict, ensuring the integrity of the SVD description.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/fields_same_names.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/fields_same_names.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>fields_same_names<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;fields&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitOffset&gt;</span>0<span class="nt">&lt;/bitOffset&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitWidth&gt;</span>4<span class="nt">&lt;/bitWidth&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">            </span><span class="nt">&lt;field&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>FieldA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitOffset&gt;</span>4<span class="nt">&lt;/bitOffset&gt;</span>
<span class="w">              </span><span class="nt">&lt;bitWidth&gt;</span>4<span class="nt">&lt;/bitWidth&gt;</span>
<span class="w">            </span><span class="nt">&lt;/field&gt;</span>
<span class="w">          </span><span class="nt">&lt;/fields&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_ignore_empty_cluster">
<code class="highlight language-python"><span class="n">test_ignore_empty_cluster</span></code>
</h2>
<div class="doc doc-contents">
<p>TODO: Add description</p>
<p><strong>Expected Outcome:</strong> TODO</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_ignore_empty_cluster</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    TODO: Add description</span>

<span class="sd">    **Expected Outcome:** TODO</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/ignore_empty_cluster.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/ignore_empty_cluster.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>ignore_empty_cluster<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_ignore_empty_cluster_two_level">
<code class="highlight language-python"><span class="n">test_ignore_empty_cluster_two_level</span></code>
</h2>
<div class="doc doc-contents">
<p>TODO: Add description</p>
<p><strong>Expected Outcome:</strong> TODO</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_ignore_empty_cluster_two_level</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    TODO: Add description</span>

<span class="sd">    **Expected Outcome:** TODO</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/ignore_empty_cluster_two_level.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/ignore_empty_cluster_two_level.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>ignore_empty_cluster_two_level<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_ignore_empty_inner_cluster">
<code class="highlight language-python"><span class="n">test_ignore_empty_inner_cluster</span></code>
</h2>
<div class="doc doc-contents">
<p>TODO: Add description</p>
<p><strong>Expected Outcome:</strong> TODO</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_ignore_empty_inner_cluster</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    TODO: Add description</span>

<span class="sd">    **Expected Outcome:** TODO</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/ignore_empty_inner_cluster.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/ignore_empty_inner_cluster.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>ignore_empty_inner_cluster<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_ignore_empty_peripheral">
<code class="highlight language-python"><span class="n">test_ignore_empty_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>TODO: Add description</p>
<p><strong>Expected Outcome:</strong> TODO</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_ignore_empty_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    TODO: Add description</span>

<span class="sd">    **Expected Outcome:** TODO</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/ignore_empty_peripheral.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralC"</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/ignore_empty_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>ignore_empty_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>32<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;access&gt;</span>read-write<span class="nt">&lt;/access&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetValue&gt;</span>0x0<span class="nt">&lt;/resetValue&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetMask&gt;</span>0xFFFFFFFF<span class="nt">&lt;/resetMask&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40002000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralC<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40003000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>32<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;access&gt;</span>read-write<span class="nt">&lt;/access&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetValue&gt;</span>0x0<span class="nt">&lt;/resetValue&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetMask&gt;</span>0xFFFFFFFF<span class="nt">&lt;/resetMask&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_overlap_register_addresses_in_peripheral">
<code class="highlight language-python"><span class="n">test_overlap_register_addresses_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser correctly handles scenarios where registers within the same peripheral have
overlapping address ranges. The test file defines a peripheral that contains two registers, <code>RegisterA</code> and
<code>RegisterB</code>. <code>RegisterA</code> starts at address offset <code>0x0</code> with a size of 32 bits, while <code>RegisterB</code> starts at
address offset <code>0x2</code> with a size of 16 bits, resulting in an overlap between their address spaces. While
overlapping registers usually signal a potential conflict in memory mapping, <code>svdconv</code> processes such cases
with warnings rather than errors to ensure backward compatibility.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the file while issuing a warning indicating that
<code>RegisterA</code> and <code>RegisterB</code> have overlapping address spaces. The peripheral should contain two registers:
<code>RegisterA</code> with an address offset of <code>0x0</code> and a size of 32 bits, and <code>RegisterB</code> with an address offset of
<code>0x2</code> and a size of 16 bits. Despite the overlap in address ranges, the parser should allow the SVD file to be
processed, maintaining compatibility with <code>svdconv</code> behavior, and should alert the user to the potential issue
through a warning, ensuring awareness of the address overlap without halting the process.</p>
<p><strong>Processable with svdconv:</strong> yes - with warnings</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_overlap_register_addresses_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser correctly handles scenarios where registers within the same peripheral have</span>
<span class="sd">    overlapping address ranges. The test file defines a peripheral that contains two registers, `RegisterA` and</span>
<span class="sd">    `RegisterB`. `RegisterA` starts at address offset `0x0` with a size of 32 bits, while `RegisterB` starts at</span>
<span class="sd">    address offset `0x2` with a size of 16 bits, resulting in an overlap between their address spaces. While</span>
<span class="sd">    overlapping registers usually signal a potential conflict in memory mapping, `svdconv` processes such cases</span>
<span class="sd">    with warnings rather than errors to ensure backward compatibility.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the file while issuing a warning indicating that</span>
<span class="sd">    `RegisterA` and `RegisterB` have overlapping address spaces. The peripheral should contain two registers:</span>
<span class="sd">    `RegisterA` with an address offset of `0x0` and a size of 32 bits, and `RegisterB` with an address offset of</span>
<span class="sd">    `0x2` and a size of 16 bits. Despite the overlap in address ranges, the parser should allow the SVD file to be</span>
<span class="sd">    processed, maintaining compatibility with `svdconv` behavior, and should alert the user to the potential issue</span>
<span class="sd">    through a warning, ensuring awareness of the address overlap without halting the process.</span>

<span class="sd">    **Processable with svdconv:** yes - with warnings</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/overlap_register_addresses_in_peripheral.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/overlap_register_addresses_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>overlap_register_addresses_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_overlap_register_cluster_addresses_in_peripheral">
<code class="highlight language-python"><span class="n">test_overlap_register_cluster_addresses_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser can handle scenarios where the address ranges of a standalone register and a
cluster within the same peripheral overlap. The test file defines a peripheral containing <code>RegisterA</code>, which
starts at address offset <code>0x0</code> with a size of 32 bits, and a cluster named <code>ClusterA</code>, starting at address
offset <code>0x2</code>. Inside <code>ClusterA</code>, there is a register named <code>RegisterB</code> that starts at address offset <code>0x2</code> and
has a size of 16 bits (<code>ClusterA</code> has therefore also a size of 16 bits). Although <code>svdconv</code> does not recognize
this overlap and processes the file without a warning or an error, a parser implementation should detect this
condition and issue a warning to the user, as overlapping address ranges can lead to ambiguity in register
mapping and potential issues during integration.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file while issuing a warning to inform the
user that <code>RegisterA</code> and <code>ClusterA</code> have overlapping address ranges. Specifically, <code>RegisterA</code> starts at
<code>0x0</code> with a size of 32 bits, and <code>ClusterA</code> starts at <code>0x2</code> with a size of 16 bits, which causes part of
<code>ClusterA</code> (including <code>RegisterB</code> at offset <code>0x2</code>) to overlap with the address range covered by <code>RegisterA</code>.
The peripheral should contain two top-level entities: <code>RegisterA</code>, with an address offset of <code>0x0</code> and a size
of 32 bits, and <code>ClusterA</code>, with an address offset of <code>0x2</code> and a size of 16 bits. Within <code>ClusterA</code>,
<code>RegisterB</code> should also have an address offset of <code>0x2</code> and a size of 16 bits, which contributes to the
address overlap. The parser should handle this situation by issuing a warning, allowing the file to be
processed while ensuring that users are informed of the potential conflict.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_overlap_register_cluster_addresses_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser can handle scenarios where the address ranges of a standalone register and a</span>
<span class="sd">    cluster within the same peripheral overlap. The test file defines a peripheral containing `RegisterA`, which</span>
<span class="sd">    starts at address offset `0x0` with a size of 32 bits, and a cluster named `ClusterA`, starting at address</span>
<span class="sd">    offset `0x2`. Inside `ClusterA`, there is a register named `RegisterB` that starts at address offset `0x2` and</span>
<span class="sd">    has a size of 16 bits (`ClusterA` has therefore also a size of 16 bits). Although `svdconv` does not recognize</span>
<span class="sd">    this overlap and processes the file without a warning or an error, a parser implementation should detect this</span>
<span class="sd">    condition and issue a warning to the user, as overlapping address ranges can lead to ambiguity in register</span>
<span class="sd">    mapping and potential issues during integration.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file while issuing a warning to inform the</span>
<span class="sd">    user that `RegisterA` and `ClusterA` have overlapping address ranges. Specifically, `RegisterA` starts at</span>
<span class="sd">    `0x0` with a size of 32 bits, and `ClusterA` starts at `0x2` with a size of 16 bits, which causes part of</span>
<span class="sd">    `ClusterA` (including `RegisterB` at offset `0x2`) to overlap with the address range covered by `RegisterA`.</span>
<span class="sd">    The peripheral should contain two top-level entities: `RegisterA`, with an address offset of `0x0` and a size</span>
<span class="sd">    of 32 bits, and `ClusterA`, with an address offset of `0x2` and a size of 16 bits. Within `ClusterA`,</span>
<span class="sd">    `RegisterB` should also have an address offset of `0x2` and a size of 16 bits, which contributes to the</span>
<span class="sd">    address overlap. The parser should handle this situation by issuing a warning, allowing the file to be</span>
<span class="sd">    processed while ensuring that users are informed of the potential conflict.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
            <span class="s2">"logical_integrity/overlap_register_cluster_addresses_in_peripheral.svd"</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/overlap_register_cluster_addresses_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>overlap_register_cluster_addresses_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">            </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_peripheral_sorting">
<code class="highlight language-python"><span class="n">test_peripheral_sorting</span></code>
</h2>
<div class="doc doc-contents">
<p>This test verifies whether the parser correctly sorts the peripherals based on their base addresses, and if
the base addresses match, then by their names. Unlike <code>svdconv</code>, which retains the peripherals in the exact
order as they appear in the SVD file, a parser implementation should sort peripherals by their base address to
provide a more predictable structure for users and tools consuming the output. When peripherals have the same
base address, they should be sorted by their names alphabetically. This sorting approach aims to improve
consistency and ease of navigation while acknowledging the differences from <code>svdconv</code>'s default behavior.</p>
<p><strong>Expected Outcome:</strong> The parser should process the SVD file and sort the peripherals by their base addresses in
ascending order. If any peripherals share the same base address, they should be sorted further by their names.
For this particular test file, the device should contain four peripherals, sorted as follows: <code>PeripheralA</code>
with a base address of <code>0x40001000</code>, followed by <code>PeripheralB</code> with a base address of <code>0x40002000</code>, then
<code>PeripheralC</code> with a base address of <code>0x40003000</code>, and finally <code>PeripheralD</code> with a base address of
<code>0x40004000</code>. Each peripheral should retain its respective properties, and the sorted order should improve
predictability compared to the original file order while maintaining consistency in naming conventions.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_peripheral_sorting</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test verifies whether the parser correctly sorts the peripherals based on their base addresses, and if</span>
<span class="sd">    the base addresses match, then by their names. Unlike `svdconv`, which retains the peripherals in the exact</span>
<span class="sd">    order as they appear in the SVD file, a parser implementation should sort peripherals by their base address to</span>
<span class="sd">    provide a more predictable structure for users and tools consuming the output. When peripherals have the same</span>
<span class="sd">    base address, they should be sorted by their names alphabetically. This sorting approach aims to improve</span>
<span class="sd">    consistency and ease of navigation while acknowledging the differences from `svdconv`'s default behavior.</span>

<span class="sd">    **Expected Outcome:** The parser should process the SVD file and sort the peripherals by their base addresses in</span>
<span class="sd">    ascending order. If any peripherals share the same base address, they should be sorted further by their names.</span>
<span class="sd">    For this particular test file, the device should contain four peripherals, sorted as follows: `PeripheralA`</span>
<span class="sd">    with a base address of `0x40001000`, followed by `PeripheralB` with a base address of `0x40002000`, then</span>
<span class="sd">    `PeripheralC` with a base address of `0x40003000`, and finally `PeripheralD` with a base address of</span>
<span class="sd">    `0x40004000`. Each peripheral should retain its respective properties, and the sorted order should improve</span>
<span class="sd">    predictability compared to the original file order while maintaining consistency in naming conventions.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/peripheral_sorting.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40002000</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40003000</span>

    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralD"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40004000</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/peripheral_sorting.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>peripheral_sorting<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralC<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40003000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralD<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40004000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40002000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_peripheral_unaligned_address">
<code class="highlight language-python"><span class="n">test_peripheral_unaligned_address</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle peripherals that are not aligned to a 4-byte
boundary. The test file defines <code>PeripheralA</code>, which has a base address of <code>0x40001007</code>, an address that is
not aligned to a typical 4-byte boundary. In <code>svdconv</code>, such unaligned addresses generate a warning to alert
the user about the misalignment while still allowing the file to be processed. A parser implementation should
replicate this behaviorprocessing the SVD file but issuing a warning to inform the user about the unaligned
address.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, allowing the unaligned base address of
<code>PeripheralA</code>, but it should issue a warning to inform the user that the peripheral base address is not 4-byte
aligned. The device should contain one peripheral named <code>PeripheralA</code> with a base address of <code>0x40001007</code> and
a size of 8 bits. The peripheral should include one register, <code>RegisterA</code>, which has an address offset of
<code>0x0</code> and a size of 8 bits. The parser should maintain the integrity of the data while warning the user about
the address misalignment, ensuring the user is aware of the potential impact of unaligned memory addresses.</p>
<p><strong>Processable with svdconv:</strong> yes - with warning</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_peripheral_unaligned_address</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle peripherals that are not aligned to a 4-byte</span>
<span class="sd">    boundary. The test file defines `PeripheralA`, which has a base address of `0x40001007`, an address that is</span>
<span class="sd">    not aligned to a typical 4-byte boundary. In `svdconv`, such unaligned addresses generate a warning to alert</span>
<span class="sd">    the user about the misalignment while still allowing the file to be processed. A parser implementation should</span>
<span class="sd">    replicate this behaviorprocessing the SVD file but issuing a warning to inform the user about the unaligned</span>
<span class="sd">    address.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, allowing the unaligned base address of</span>
<span class="sd">    `PeripheralA`, but it should issue a warning to inform the user that the peripheral base address is not 4-byte</span>
<span class="sd">    aligned. The device should contain one peripheral named `PeripheralA` with a base address of `0x40001007` and</span>
<span class="sd">    a size of 8 bits. The peripheral should include one register, `RegisterA`, which has an address offset of</span>
<span class="sd">    `0x0` and a size of 8 bits. The parser should maintain the integrity of the data while warning the user about</span>
<span class="sd">    the address misalignment, ensuring the user is aware of the potential impact of unaligned memory addresses.</span>

<span class="sd">    **Processable with svdconv:** yes - with warning</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/peripheral_unaligned_address.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001007</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">8</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">8</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/peripheral_unaligned_address.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>peripheral_unaligned_address<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001007<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;size&gt;</span>8<span class="nt">&lt;/size&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_peripherals_overlap_address">
<code class="highlight language-python"><span class="n">test_peripherals_overlap_address</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates how the parser handles cases where two peripherals have overlapping address ranges, but
neither is designated as an alternate peripheral. In this test file, <code>PeripheralA</code> starts at <code>0x40001000</code>, and
<code>PeripheralB</code> starts at <code>0x40001500</code>, causing their memory address blocks to overlap. While <code>svdconv</code>
processes such files, it generates a warning due to the overlap. A parser should mimic this behavior by
allowing the file to be processed while issuing a warning to the user about the overlapping address spaces.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file successfully but issue a warning to inform the user that
<code>PeripheralA</code> and <code>PeripheralB</code> have overlapping address ranges. Specifically, <code>PeripheralA</code> occupies an
address range starting at <code>0x40001000</code>, and <code>PeripheralB</code> starts at <code>0x40001500</code>, leading to an overlap. The
device should contain two peripherals: <code>PeripheralA</code>, which starts at <code>0x40001000</code> and has one register, and
<code>PeripheralB</code>, which starts at <code>0x40001500</code> and also has one register. The parser should handle the overlap by
warning the user, ensuring that the file is processed correctly while making them aware of the potential
conflict, similar to <code>svdconv</code> behavior.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_peripherals_overlap_address</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates how the parser handles cases where two peripherals have overlapping address ranges, but</span>
<span class="sd">    neither is designated as an alternate peripheral. In this test file, `PeripheralA` starts at `0x40001000`, and</span>
<span class="sd">    `PeripheralB` starts at `0x40001500`, causing their memory address blocks to overlap. While `svdconv`</span>
<span class="sd">    processes such files, it generates a warning due to the overlap. A parser should mimic this behavior by</span>
<span class="sd">    allowing the file to be processed while issuing a warning to the user about the overlapping address spaces.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file successfully but issue a warning to inform the user that</span>
<span class="sd">    `PeripheralA` and `PeripheralB` have overlapping address ranges. Specifically, `PeripheralA` occupies an</span>
<span class="sd">    address range starting at `0x40001000`, and `PeripheralB` starts at `0x40001500`, leading to an overlap. The</span>
<span class="sd">    device should contain two peripherals: `PeripheralA`, which starts at `0x40001000` and has one register, and</span>
<span class="sd">    `PeripheralB`, which starts at `0x40001500` and also has one register. The parser should handle the overlap by</span>
<span class="sd">    warning the user, ensuring that the file is processed correctly while making them aware of the potential</span>
<span class="sd">    conflict, similar to `svdconv` behavior.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/peripherals_overlap_address.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001500</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/peripherals_overlap_address.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>peripherals_overlap_address<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001500<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_peripherals_same_address">
<code class="highlight language-python"><span class="n">test_peripherals_same_address</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates whether the parser can handle the case where two peripherals are defined with the same
base address without being marked as alternate peripherals. In this test file, <code>PeripheralA</code> and <code>PeripheralB</code>
both have a base address of <code>0x40001000</code>, but unlike valid alternate peripheral setups, there is no indication
that one peripheral is an alternate of the other. This scenario causes <code>svdconv</code> to raise an error, as
peripherals sharing the same base address without an alternate relationship are not allowed. However, a more
robust parser implementation should issue a warning and continue processing.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file successfully while issuing a warning to notify the user
that <code>PeripheralA</code> and <code>PeripheralB</code> share the same base address of <code>0x40001000</code> without being designated as
alternate peripherals. The device should contain two peripherals: <code>PeripheralA</code> and <code>PeripheralB</code>, both with
the same base address, and each should have one register. The parser should allow the file to be processed
while alerting the user about the address conflict, handling the situation gracefully while still providing
feedback on the potential issue, unlike <code>svdconv</code>, which raises an error in this case.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_peripherals_same_address</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates whether the parser can handle the case where two peripherals are defined with the same</span>
<span class="sd">    base address without being marked as alternate peripherals. In this test file, `PeripheralA` and `PeripheralB`</span>
<span class="sd">    both have a base address of `0x40001000`, but unlike valid alternate peripheral setups, there is no indication</span>
<span class="sd">    that one peripheral is an alternate of the other. This scenario causes `svdconv` to raise an error, as</span>
<span class="sd">    peripherals sharing the same base address without an alternate relationship are not allowed. However, a more</span>
<span class="sd">    robust parser implementation should issue a warning and continue processing.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file successfully while issuing a warning to notify the user</span>
<span class="sd">    that `PeripheralA` and `PeripheralB` share the same base address of `0x40001000` without being designated as</span>
<span class="sd">    alternate peripherals. The device should contain two peripherals: `PeripheralA` and `PeripheralB`, both with</span>
<span class="sd">    the same base address, and each should have one register. The parser should allow the file to be processed</span>
<span class="sd">    while alerting the user about the address conflict, handling the situation gracefully while still providing</span>
<span class="sd">    feedback on the potential issue, unlike `svdconv`, which raises an error in this case.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/peripherals_same_address.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40001000</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/peripherals_same_address.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>peripheral_same_address<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_peripherals_same_names">
<code class="highlight language-python"><span class="n">test_peripherals_same_names</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly identify and handle naming conflicts when two peripherals
within the same device have identical names. The test file contains two peripherals, both named <code>PeripheralA</code>.
In order to maintain logical integrity and ensure that each peripheral is uniquely identifiable, the parser
must detect such conflicts and prevent ambiguous definitions. Similar to <code>svdconv</code>, the parser is expected to
raise an error when it encounters peripherals with the same name, as this represents a violation of the naming
rules.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that there is a peripheral naming conflict
because both peripherals are named <code>PeripheralA</code>. This conflict results in ambiguity, which prevents the
unique identification of peripherals within the device. As a result, the parser must stop processing the SVD
file and provide an appropriate error message to inform the user of the issue. This behavior is consistent
with <code>svdconv</code>, which also raises an error for such cases to maintain consistency and avoid incorrect memory
mappings or register configurations.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Peripheral naming conflict"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_peripherals_same_names</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly identify and handle naming conflicts when two peripherals</span>
<span class="sd">    within the same device have identical names. The test file contains two peripherals, both named `PeripheralA`.</span>
<span class="sd">    In order to maintain logical integrity and ensure that each peripheral is uniquely identifiable, the parser</span>
<span class="sd">    must detect such conflicts and prevent ambiguous definitions. Similar to `svdconv`, the parser is expected to</span>
<span class="sd">    raise an error when it encounters peripherals with the same name, as this represents a violation of the naming</span>
<span class="sd">    rules.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that there is a peripheral naming conflict</span>
<span class="sd">    because both peripherals are named `PeripheralA`. This conflict results in ambiguity, which prevents the</span>
<span class="sd">    unique identification of peripherals within the device. As a result, the parser must stop processing the SVD</span>
<span class="sd">    file and provide an appropriate error message to inform the user of the issue. This behavior is consistent</span>
<span class="sd">    with `svdconv`, which also raises an error for such cases to maintain consistency and avoid incorrect memory</span>
<span class="sd">    mappings or register configurations.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/peripherals_same_names.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/peripherals_same_names.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>peripherals_same_names<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40002000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_alternate_group">
<code class="highlight language-python"><span class="n">test_register_alternate_group</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates whether the parser can correctly process registers that share the same address but belong
to different alternate groups. In this test file, <code>RegisterA</code> is defined at address offset <code>0x0</code> without any
alternate group, while a second <code>RegisterA</code> and <code>RegisterB</code>, both at the same address, are part of the
alternate group <code>RegisterX</code>. <code>svdconv</code> processes this file without any issues, and the parser should be able
to handle the alternate group associations properly.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file correctly, identifying the alternate group relationships
for the registers. <code>RegisterA</code> should be defined at address offset <code>0x0</code> with a size of 32 bits and no
alternate group. The second <code>RegisterA</code>, also at the same address, should be part of the alternate group
<code>RegisterX</code> and should be named <code>RegisterA_RegisterX</code>. Similarly, <code>RegisterB</code> should be at the same address
with the name <code>RegisterB_RegisterX</code> and should also belong to the alternate group <code>RegisterX</code>. The parser
should handle this configuration smoothly, without any errors or warnings, consistent with how <code>svdconv</code>
processes this case.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_alternate_group</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates whether the parser can correctly process registers that share the same address but belong</span>
<span class="sd">    to different alternate groups. In this test file, `RegisterA` is defined at address offset `0x0` without any</span>
<span class="sd">    alternate group, while a second `RegisterA` and `RegisterB`, both at the same address, are part of the</span>
<span class="sd">    alternate group `RegisterX`. `svdconv` processes this file without any issues, and the parser should be able</span>
<span class="sd">    to handle the alternate group associations properly.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file correctly, identifying the alternate group relationships</span>
<span class="sd">    for the registers. `RegisterA` should be defined at address offset `0x0` with a size of 32 bits and no</span>
<span class="sd">    alternate group. The second `RegisterA`, also at the same address, should be part of the alternate group</span>
<span class="sd">    `RegisterX` and should be named `RegisterA_RegisterX`. Similarly, `RegisterB` should be at the same address</span>
<span class="sd">    with the name `RegisterB_RegisterX` and should also belong to the alternate group `RegisterX`. The parser</span>
<span class="sd">    should handle this configuration smoothly, without any errors or warnings, consistent with how `svdconv`</span>
<span class="sd">    processes this case.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_alternate_group.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="o">==</span> <span class="s2">"RegisterX"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="o">==</span> <span class="s2">"RegisterX"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_alternate_group.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_alternate_group<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_alternate_group_forward_reference">
<code class="highlight language-python"><span class="n">test_register_alternate_group_forward_reference</span></code>
</h2>
<div class="doc doc-contents">
<p>This test ensures that the parser can correctly handle forward references when defining alternate register
groups. In this test file, <code>RegisterA</code> is defined later in the SVD file, but other registers like
<code>RegisterA_RegisterX</code> and <code>RegisterB_RegisterX</code> are part of the alternate group <code>RegisterX</code>, referencing
<code>RegisterA</code>. A parser should be able to resolve these forward references without any issues.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file correctly, resolving the forward reference for the
alternate register group. It should recognize that <code>RegisterA_RegisterX</code> and <code>RegisterB_RegisterX</code> both belong
to the alternate group <code>RegisterX</code>, while <code>RegisterA</code>, defined later in the file, is the base register with no
alternate group. All registers should have the same address offset of <code>0x0</code> and a size of 32 bits. The parser
should process this setup without errors, ensuring that the alternate group relationships and forward
references are handled as expected.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_alternate_group_forward_reference</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test ensures that the parser can correctly handle forward references when defining alternate register</span>
<span class="sd">    groups. In this test file, `RegisterA` is defined later in the SVD file, but other registers like</span>
<span class="sd">    `RegisterA_RegisterX` and `RegisterB_RegisterX` are part of the alternate group `RegisterX`, referencing</span>
<span class="sd">    `RegisterA`. A parser should be able to resolve these forward references without any issues.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file correctly, resolving the forward reference for the</span>
<span class="sd">    alternate register group. It should recognize that `RegisterA_RegisterX` and `RegisterB_RegisterX` both belong</span>
<span class="sd">    to the alternate group `RegisterX`, while `RegisterA`, defined later in the file, is the base register with no</span>
<span class="sd">    alternate group. All registers should have the same address offset of `0x0` and a size of 32 bits. The parser</span>
<span class="sd">    should process this setup without errors, ensuring that the alternate group relationships and forward</span>
<span class="sd">    references are handled as expected.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_alternate_group_forward_reference.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="o">==</span> <span class="s2">"RegisterX"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="o">==</span> <span class="s2">"RegisterX"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_alternate_group_forward_reference.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_alternate_group_forward_reference<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_alternate_group_overlap">
<code class="highlight language-python"><span class="n">test_register_alternate_group_overlap</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser correctly handles registers that belong to the same alternate group but
have overlapping addresses. In this test file, <code>RegisterA</code> is defined at address offset <code>0x0</code> with no
alternate group. <code>RegisterA_RegisterX</code> and <code>RegisterB_RegisterX</code> are both part of the alternate group
<code>RegisterX</code>, but they overlap in memory. <code>svdconv</code> processes this file without issues, and the parser should
also handle these overlapping alternate group registers correctly.</p>
<p><strong>Expected Outcome:</strong> The parser should process the SVD file without errors, recognizing that
<code>RegisterA_RegisterX</code> and <code>RegisterB_RegisterX</code> belong to the same alternate group despite overlapping
addresses. The device should contain one peripheral with three registers: <code>RegisterA</code> at address offset <code>0x0</code>
with a size of 32 bits and no alternate group, <code>RegisterA_RegisterX</code> at the same address with a size of 16
bits, and <code>RegisterB_RegisterX</code> at the same address with a size of 32 bits, both belonging to <code>RegisterX</code>. The
parser should handle this alternate group overlap without errors or warnings, consistent with <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_alternate_group_overlap</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser correctly handles registers that belong to the same alternate group but</span>
<span class="sd">    have overlapping addresses. In this test file, `RegisterA` is defined at address offset `0x0` with no</span>
<span class="sd">    alternate group. `RegisterA_RegisterX` and `RegisterB_RegisterX` are both part of the alternate group</span>
<span class="sd">    `RegisterX`, but they overlap in memory. `svdconv` processes this file without issues, and the parser should</span>
<span class="sd">    also handle these overlapping alternate group registers correctly.</span>

<span class="sd">    **Expected Outcome:** The parser should process the SVD file without errors, recognizing that</span>
<span class="sd">    `RegisterA_RegisterX` and `RegisterB_RegisterX` belong to the same alternate group despite overlapping</span>
<span class="sd">    addresses. The device should contain one peripheral with three registers: `RegisterA` at address offset `0x0`</span>
<span class="sd">    with a size of 32 bits and no alternate group, `RegisterA_RegisterX` at the same address with a size of 16</span>
<span class="sd">    bits, and `RegisterB_RegisterX` at the same address with a size of 32 bits, both belonging to `RegisterX`. The</span>
<span class="sd">    parser should handle this alternate group overlap without errors or warnings, consistent with `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_alternate_group_overlap.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="o">==</span> <span class="s2">"RegisterX"</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_group</span> <span class="o">==</span> <span class="s2">"RegisterX"</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_alternate_group_overlap.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_alternate_group_overlap<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_alternate_group_same_name">
<code class="highlight language-python"><span class="n">test_register_alternate_group_same_name</span></code>
</h2>
<div class="doc doc-contents">
<p>This test verifies how the parser handles a situation where two registers in the same alternate group are
given the same name. In this test file, <code>RegisterA_RegisterX</code> is defined twice within the alternate group
<code>RegisterX</code>, which causes a naming conflict. While <code>svdconv</code> processes this file, it issues a warning
indicating that <code>RegisterA_RegisterX</code> is already defined. The parser should similarly detect this conflict and
raise an error due to the duplicate register name within the alternate group.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error, indicating that two registers in the same alternate group
cannot have the same name. The file should fail to process because <code>RegisterA_RegisterX</code> is defined twice,
leading to a naming conflict within <code>RegisterX</code>. The parser should halt further processing and notify the user
about the issue, ensuring that register names within the same alternate group are unique, consistent with the
warning behavior seen in <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> no - warning (RegisterA_RegisterX already defined)</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Register in alternate group has same name as other register in same alternate group"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_alternate_group_same_name</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test verifies how the parser handles a situation where two registers in the same alternate group are</span>
<span class="sd">    given the same name. In this test file, `RegisterA_RegisterX` is defined twice within the alternate group</span>
<span class="sd">    `RegisterX`, which causes a naming conflict. While `svdconv` processes this file, it issues a warning</span>
<span class="sd">    indicating that `RegisterA_RegisterX` is already defined. The parser should similarly detect this conflict and</span>
<span class="sd">    raise an error due to the duplicate register name within the alternate group.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error, indicating that two registers in the same alternate group</span>
<span class="sd">    cannot have the same name. The file should fail to process because `RegisterA_RegisterX` is defined twice,</span>
<span class="sd">    leading to a naming conflict within `RegisterX`. The parser should halt further processing and notify the user</span>
<span class="sd">    about the issue, ensuring that register names within the same alternate group are unique, consistent with the</span>
<span class="sd">    warning behavior seen in `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** no - warning (RegisterA_RegisterX already defined)</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_alternate_group_same_name.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_alternate_group_same_name.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_alternate_group_same_name<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateGroup&gt;</span>RegisterX<span class="nt">&lt;/alternateGroup&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_and_cluster_register_same_names_in_peripheral">
<code class="highlight language-python"><span class="n">test_register_and_cluster_register_same_names_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test verifies whether the parser correctly handles situations where a register and a cluster within the
same peripheral share the same register name. The test file contains a peripheral with a standalone register
named <code>RegisterA</code> and a cluster named <code>ClusterA</code>. The cluster <code>ClusterA</code> itself contains a register also named
<code>RegisterA</code>. This scenario tests whether the parser can distinguish between registers in different
contextsi.e., one as a standalone register and the other as part of a clusterwithout causing naming
conflicts.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file without errors, correctly identifying
the register and cluster, even though both contexts contain a register with the same name, <code>RegisterA</code>. The
peripheral should contain two top-level entities: the first is a standalone register named <code>RegisterA</code> with an
address offset of <code>0x0</code> and a size of 32 bits. The second is a cluster named <code>ClusterA</code> with an address offset
of <code>0x4</code> and a size of 32 bits. The cluster <code>ClusterA</code> contains one register named <code>RegisterA</code> with an address
offset of <code>0x0</code> and a size of 32 bits. The parser should properly handle the context in which each register is
defineddifferentiating the standalone register from the register within the clusterand process the file
without raising any naming conflict errors.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_and_cluster_register_same_names_in_peripheral</span><span class="p">(</span>
    <span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test verifies whether the parser correctly handles situations where a register and a cluster within the</span>
<span class="sd">    same peripheral share the same register name. The test file contains a peripheral with a standalone register</span>
<span class="sd">    named `RegisterA` and a cluster named `ClusterA`. The cluster `ClusterA` itself contains a register also named</span>
<span class="sd">    `RegisterA`. This scenario tests whether the parser can distinguish between registers in different</span>
<span class="sd">    contextsi.e., one as a standalone register and the other as part of a clusterwithout causing naming</span>
<span class="sd">    conflicts.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file without errors, correctly identifying</span>
<span class="sd">    the register and cluster, even though both contexts contain a register with the same name, `RegisterA`. The</span>
<span class="sd">    peripheral should contain two top-level entities: the first is a standalone register named `RegisterA` with an</span>
<span class="sd">    address offset of `0x0` and a size of 32 bits. The second is a cluster named `ClusterA` with an address offset</span>
<span class="sd">    of `0x4` and a size of 32 bits. The cluster `ClusterA` contains one register named `RegisterA` with an address</span>
<span class="sd">    offset of `0x0` and a size of 32 bits. The parser should properly handle the context in which each register is</span>
<span class="sd">    defineddifferentiating the standalone register from the register within the clusterand process the file</span>
<span class="sd">    without raising any naming conflict errors.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"logical_integrity/register_and_cluster_register_same_names_in_peripheral.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_and_cluster_register_same_names_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_and_cluster_register_same_names_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>Cluster<span class="w"> </span>A<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_and_cluster_same_names_in_peripheral">
<code class="highlight language-python"><span class="n">test_register_and_cluster_same_names_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks if the parser can correctly identify and handle naming conflicts when a register and a
cluster within the same peripheral share the same name. The test file defines a peripheral that contains both
a standalone register and a cluster, both named <code>RegisterA</code>. Since identifiers on the same hierarchical level
must have unique identifiers within the same peripheral to avoid ambiguity, the expected behavior is for the
parser to detect this naming conflict and raise an appropriate error, similar to the behavior of <code>svdconv</code>.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating a naming conflict between the register and the
cluster, both named <code>RegisterA</code> within the same peripheral. This conflict makes it impossible to uniquely
identify the register and cluster entities. The parser should fail processing the file and notify the user of
the conflict, ensuring that each element within a peripheral has a distinct and unique name, consistent with
the requirements for logical integrity.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Register and cluster naming conflict"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_and_cluster_same_names_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks if the parser can correctly identify and handle naming conflicts when a register and a</span>
<span class="sd">    cluster within the same peripheral share the same name. The test file defines a peripheral that contains both</span>
<span class="sd">    a standalone register and a cluster, both named `RegisterA`. Since identifiers on the same hierarchical level</span>
<span class="sd">    must have unique identifiers within the same peripheral to avoid ambiguity, the expected behavior is for the</span>
<span class="sd">    parser to detect this naming conflict and raise an appropriate error, similar to the behavior of `svdconv`.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating a naming conflict between the register and the</span>
<span class="sd">    cluster, both named `RegisterA` within the same peripheral. This conflict makes it impossible to uniquely</span>
<span class="sd">    identify the register and cluster entities. The parser should fail processing the file and notify the user of</span>
<span class="sd">    the conflict, ensuring that each element within a peripheral has a distinct and unique name, consistent with</span>
<span class="sd">    the requirements for logical integrity.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_and_cluster_same_names_in_peripheral.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_and_cluster_same_names_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_and_cluster_same_names_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>Cluster<span class="w"> </span>A<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_and_nested_cluster_same_names_in_peripheral">
<code class="highlight language-python"><span class="n">test_register_and_nested_cluster_same_names_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates whether the parser can correctly handle situations where a standalone register and a
nested cluster within the same peripheral share the same name. The test file defines a peripheral that
contains a standalone register named <code>RegisterA</code> and a cluster named <code>ClusterA</code>. Within <code>ClusterA</code>, there is a
nested cluster also named <code>RegisterA</code>, which itself contains a register with the same name, <code>RegisterA</code>. This
test is intended to verify that the parser can differentiate between entities in different hierarchical levels
despite having the same name.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, correctly identifying the relationships
and hierarchies of the elements within the peripheral, even when a register and a nested cluster share the
same name. The peripheral should contain two top-level entities: the first is a standalone register named
<code>RegisterA</code> with an address offset of <code>0x0</code> and a size of 32 bits, and the second is a cluster named
<code>ClusterA</code> with an address offset of <code>0x4</code> and a size of 32 bits. Inside <code>ClusterA</code>, there is a nested cluster
also named <code>RegisterA</code>, which has an address offset of <code>0x0</code> and a size of 32 bits. This nested cluster
contains a register, also named <code>RegisterA</code>, with an address offset of <code>0x0</code> and a size of 32 bits. The parser
should accurately distinguish between the standalone register and the registers and clusters within the nested
structure, processing the file without any naming conflicts or errors.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_and_nested_cluster_same_names_in_peripheral</span><span class="p">(</span>
    <span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates whether the parser can correctly handle situations where a standalone register and a</span>
<span class="sd">    nested cluster within the same peripheral share the same name. The test file defines a peripheral that</span>
<span class="sd">    contains a standalone register named `RegisterA` and a cluster named `ClusterA`. Within `ClusterA`, there is a</span>
<span class="sd">    nested cluster also named `RegisterA`, which itself contains a register with the same name, `RegisterA`. This</span>
<span class="sd">    test is intended to verify that the parser can differentiate between entities in different hierarchical levels</span>
<span class="sd">    despite having the same name.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, correctly identifying the relationships</span>
<span class="sd">    and hierarchies of the elements within the peripheral, even when a register and a nested cluster share the</span>
<span class="sd">    same name. The peripheral should contain two top-level entities: the first is a standalone register named</span>
<span class="sd">    `RegisterA` with an address offset of `0x0` and a size of 32 bits, and the second is a cluster named</span>
<span class="sd">    `ClusterA` with an address offset of `0x4` and a size of 32 bits. Inside `ClusterA`, there is a nested cluster</span>
<span class="sd">    also named `RegisterA`, which has an address offset of `0x0` and a size of 32 bits. This nested cluster</span>
<span class="sd">    contains a register, also named `RegisterA`, with an address offset of `0x0` and a size of 32 bits. The parser</span>
<span class="sd">    should accurately distinguish between the standalone register and the registers and clusters within the nested</span>
<span class="sd">    structure, processing the file without any naming conflicts or errors.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"logical_integrity/register_and_nested_cluster_same_names_in_peripheral.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="n">nested_rega</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nested_rega</span><span class="p">,</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">nested_rega</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">nested_rega</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">nested_rega</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_and_nested_cluster_same_names_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_and_nested_cluster_same_names_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>Cluster<span class="w"> </span>A<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;description&gt;</span>Cluster<span class="w"> </span>B<span class="nt">&lt;/description&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">            </span><span class="nt">&lt;register&gt;</span>
<span class="w">              </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">              </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">            </span><span class="nt">&lt;/register&gt;</span>
<span class="w">          </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_cluster_sorting_in_peripheral">
<code class="highlight language-python"><span class="n">test_register_cluster_sorting_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser correctly sorts registers and clusters within a peripheral based on their
address offsets, with registers and clusters sorted first by their offsets and then by their names if they
share the same address. In <code>svdconv</code>, the registers and clusters are processed and retained in the order in
which they are defined in the SVD file. However, a parser should sort registers and clusters by address offset
for better organization and consistency. If registers or clusters have the same address, they should further
be sorted by their names alphabetically to ensure predictable behavior and avoid ambiguity.</p>
<p><strong>Expected Outcome:</strong> The parser should process the SVD file and sort the registers and clusters within the
peripheral by their address offsets. The peripheral should contain two entities in the sorted order:
<code>ClusterA</code> should appear first with an address offset of <code>0x0</code>, followed by <code>RegisterA</code> with an address offset
of <code>0x8</code>. Inside <code>ClusterA</code>, the contained registers should also be sorted by address offset, starting with
<code>RegisterA</code> at offset <code>0x0</code> and then <code>RegisterB</code> at offset <code>0x4</code>. The parser should reflect this sorting order
accurately, maintaining each register and cluster's respective properties while ensuring a consistent and
predictable output.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_cluster_sorting_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser correctly sorts registers and clusters within a peripheral based on their</span>
<span class="sd">    address offsets, with registers and clusters sorted first by their offsets and then by their names if they</span>
<span class="sd">    share the same address. In `svdconv`, the registers and clusters are processed and retained in the order in</span>
<span class="sd">    which they are defined in the SVD file. However, a parser should sort registers and clusters by address offset</span>
<span class="sd">    for better organization and consistency. If registers or clusters have the same address, they should further</span>
<span class="sd">    be sorted by their names alphabetically to ensure predictable behavior and avoid ambiguity.</span>

<span class="sd">    **Expected Outcome:** The parser should process the SVD file and sort the registers and clusters within the</span>
<span class="sd">    peripheral by their address offsets. The peripheral should contain two entities in the sorted order:</span>
<span class="sd">    `ClusterA` should appear first with an address offset of `0x0`, followed by `RegisterA` with an address offset</span>
<span class="sd">    of `0x8`. Inside `ClusterA`, the contained registers should also be sorted by address offset, starting with</span>
<span class="sd">    `RegisterA` at offset `0x0` and then `RegisterB` at offset `0x4`. The parser should reflect this sorting order</span>
<span class="sd">    accurately, maintaining each register and cluster's respective properties while ensuring a consistent and</span>
<span class="sd">    predictable output.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_cluster_sorting_in_peripheral.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x8</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_cluster_sorting_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_cluster_sorting_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x8<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>Cluster<span class="w"> </span>A<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_size_bit_width">
<code class="highlight language-python"><span class="n">test_register_size_bit_width</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle registers with an unsupported bit width. The test
file defines <code>RegisterA</code> with a size of 23 bits, which is not a standard register size (valid sizes are
typically 8, 16, 32, or 64 bits). In <code>svdconv</code>, this scenario generates a warning, indicating that the
register size is non-standard but the file is still processable. A parser implementation should mimic this
behavior, allowing the file to be processed while issuing a warning to alert the user of the non-standard
register size.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, but it should issue a warning to notify
the user that the size of <code>RegisterA</code> is non-standard and must be 8, 16, 32, or 64 bits. The device should
contain one peripheral, <code>PeripheralA</code>, with a base address of <code>0x40001000</code>, and it should include a register,
<code>RegisterA</code>, with an address offset of <code>0x0</code> and a size of 23 bits. The parser should allow the file to be
processed while warning the user about the unusual bit width of the register, maintaining consistency with how
<code>svdconv</code> handles this situation.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_register_size_bit_width</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle registers with an unsupported bit width. The test</span>
<span class="sd">    file defines `RegisterA` with a size of 23 bits, which is not a standard register size (valid sizes are</span>
<span class="sd">    typically 8, 16, 32, or 64 bits). In `svdconv`, this scenario generates a warning, indicating that the</span>
<span class="sd">    register size is non-standard but the file is still processable. A parser implementation should mimic this</span>
<span class="sd">    behavior, allowing the file to be processed while issuing a warning to alert the user of the non-standard</span>
<span class="sd">    register size.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, but it should issue a warning to notify</span>
<span class="sd">    the user that the size of `RegisterA` is non-standard and must be 8, 16, 32, or 64 bits. The device should</span>
<span class="sd">    contain one peripheral, `PeripheralA`, with a base address of `0x40001000`, and it should include a register,</span>
<span class="sd">    `RegisterA`, with an address offset of `0x0` and a size of 23 bits. The parser should allow the file to be</span>
<span class="sd">    processed while warning the user about the unusual bit width of the register, maintaining consistency with how</span>
<span class="sd">    `svdconv` handles this situation.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_size_bit_width.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"PeripheralB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">base_address</span> <span class="o">==</span> <span class="mh">0x40002000</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_size_bit_width.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_size_bit_width<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>23<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40002000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>32<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_register_unaligned_address">
<code class="highlight language-python"><span class="n">test_register_unaligned_address</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can detect and correctly handle registers that are defined with an
unaligned address offset. The test file defines <code>RegisterA</code>, with a size of 16 bit and an address offset of
<code>0x00000003</code>, making it unaligned in memory. If the register's size would be 8 bit, the register would be
aligned.</p>
<p><strong>Expected Outcome:</strong> The parser should raise a warning indicating that <code>RegisterA</code> is unaligned.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_register_unaligned_address</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can detect and correctly handle registers that are defined with an</span>
<span class="sd">    unaligned address offset. The test file defines `RegisterA`, with a size of 16 bit and an address offset of</span>
<span class="sd">    `0x00000003`, making it unaligned in memory. If the register's size would be 8 bit, the register would be</span>
<span class="sd">    aligned.</span>

<span class="sd">    **Expected Outcome:** The parser should raise a warning indicating that `RegisterA` is unaligned.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/register_unaligned_address.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x3</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/register_unaligned_address.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_unaligned_address<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x3<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_same_register_addresses_in_peripheral">
<code class="highlight language-python"><span class="n">test_same_register_addresses_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser can correctly handle the situation where two registers within the same
peripheral are assigned the same address offset. The test file defines a peripheral containing two registers,
<code>RegisterA</code> and <code>RegisterB</code>, both with an address offset of <code>0x0</code>. Typically, each register within a
peripheral should have a unique address to ensure proper memory mapping, and <code>svdconv</code> raises an error when
two registers share the same address. However, for compatibility with older versions of <code>svdconv</code>, a warning
may be issued instead of an error in <a href="https://github.com/Open-CMSIS-
Pack/devtools/blob/44643999691347946562c526fc0474194f865c74/tools/svdconv/SVDModel/src/SvdPeripheral.cpp#L721">certain situations</a>
(e.g., when using <code>dim</code>). For a parser designed to work with both new and old SVD files, it is recommended to
allow registers with the same addresses but issue a warning to the user.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file successfully but should issue a warning
(<code>ProcessWarning</code>) indicating that <code>RegisterA</code> and <code>RegisterB</code> have the same address offset of <code>0x0</code>. The
peripheral should contain two registers, both of which are correctly parsed despite the address overlap. The
first register, <code>RegisterA</code>, should have an address offset of <code>0x0</code> and a size of 32 bits, while the second
register, <code>RegisterB</code>, should also have an address offset of <code>0x0</code> and a size of 32 bits. The parser should
handle this scenario by allowing the registers with the same addresses but warning the user about the conflict
to maintain compatibility and awareness of potential issues.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_same_register_addresses_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser can correctly handle the situation where two registers within the same</span>
<span class="sd">    peripheral are assigned the same address offset. The test file defines a peripheral containing two registers,</span>
<span class="sd">    `RegisterA` and `RegisterB`, both with an address offset of `0x0`. Typically, each register within a</span>
<span class="sd">    peripheral should have a unique address to ensure proper memory mapping, and `svdconv` raises an error when</span>
<span class="sd">    two registers share the same address. However, for compatibility with older versions of `svdconv`, a warning</span>
<span class="sd">    may be issued instead of an error in [certain situations](https://github.com/Open-CMSIS-</span>
<span class="sd">    Pack/devtools/blob/44643999691347946562c526fc0474194f865c74/tools/svdconv/SVDModel/src/SvdPeripheral.cpp#L721)</span>
<span class="sd">    (e.g., when using `dim`). For a parser designed to work with both new and old SVD files, it is recommended to</span>
<span class="sd">    allow registers with the same addresses but issue a warning to the user.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file successfully but should issue a warning</span>
<span class="sd">    (`ProcessWarning`) indicating that `RegisterA` and `RegisterB` have the same address offset of `0x0`. The</span>
<span class="sd">    peripheral should contain two registers, both of which are correctly parsed despite the address overlap. The</span>
<span class="sd">    first register, `RegisterA`, should have an address offset of `0x0` and a size of 32 bits, while the second</span>
<span class="sd">    register, `RegisterB`, should also have an address offset of `0x0` and a size of 32 bits. The parser should</span>
<span class="sd">    handle this scenario by allowing the registers with the same addresses but warning the user about the conflict</span>
<span class="sd">    to maintain compatibility and awareness of potential issues.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/same_register_addresses_in_peripheral.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/same_register_addresses_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>same_register_addresses_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_same_register_cluster_addresses_in_peripheral">
<code class="highlight language-python"><span class="n">test_same_register_cluster_addresses_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test evaluates how the parser handles cases where a standalone register and a cluster within the same
peripheral share the same address offset, and further, whether the addresses within the cluster itself overlap
with the standalone register. The test file defines a peripheral with a standalone register <code>RegisterA</code> at
address offset <code>0x0</code> and a cluster named <code>ClusterA</code>, also starting at offset <code>0x0</code>. Within <code>ClusterA</code>, there
is a register named <code>RegisterB</code> with an address offset of <code>0x0</code>. The tool <code>svdconv</code> processes this without
issuing a warning or error and does not recognize that <code>RegisterA</code> and <code>ClusterA</code> effectively overlap, leading
to <code>RegisterA</code> and <code>RegisterB</code> having the same absolute address. For clarity and consistency, a parser
implementation should warn the user about this address conflict.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file successfully but issue a warning to inform the user that
<code>RegisterA</code> and <code>ClusterA</code> overlap at address offset <code>0x0</code>, and as a result, <code>RegisterB</code> within <code>ClusterA</code>
ends up sharing the same absolute address as <code>RegisterA</code>. The peripheral should contain two top-level
entities: <code>RegisterA</code> with an address offset of <code>0x0</code> and a size of 32 bits, and <code>ClusterA</code> also with an
address offset of <code>0x0</code> and a size of 32 bits. Inside <code>ClusterA</code>, <code>RegisterB</code> should be located at an address
offset of <code>0x0</code>, effectively overlapping with <code>RegisterA</code> at the peripheral level. The parser should warn the
user about these overlapping absolute addresses to ensure that such potential conflicts are clearly
communicated, despite being allowed during processing for compatibility reasons.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_same_register_cluster_addresses_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test evaluates how the parser handles cases where a standalone register and a cluster within the same</span>
<span class="sd">    peripheral share the same address offset, and further, whether the addresses within the cluster itself overlap</span>
<span class="sd">    with the standalone register. The test file defines a peripheral with a standalone register `RegisterA` at</span>
<span class="sd">    address offset `0x0` and a cluster named `ClusterA`, also starting at offset `0x0`. Within `ClusterA`, there</span>
<span class="sd">    is a register named `RegisterB` with an address offset of `0x0`. The tool `svdconv` processes this without</span>
<span class="sd">    issuing a warning or error and does not recognize that `RegisterA` and `ClusterA` effectively overlap, leading</span>
<span class="sd">    to `RegisterA` and `RegisterB` having the same absolute address. For clarity and consistency, a parser</span>
<span class="sd">    implementation should warn the user about this address conflict.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file successfully but issue a warning to inform the user that</span>
<span class="sd">    `RegisterA` and `ClusterA` overlap at address offset `0x0`, and as a result, `RegisterB` within `ClusterA`</span>
<span class="sd">    ends up sharing the same absolute address as `RegisterA`. The peripheral should contain two top-level</span>
<span class="sd">    entities: `RegisterA` with an address offset of `0x0` and a size of 32 bits, and `ClusterA` also with an</span>
<span class="sd">    address offset of `0x0` and a size of 32 bits. Inside `ClusterA`, `RegisterB` should be located at an address</span>
<span class="sd">    offset of `0x0`, effectively overlapping with `RegisterA` at the peripheral level. The parser should warn the</span>
<span class="sd">    user about these overlapping absolute addresses to ensure that such potential conflicts are clearly</span>
<span class="sd">    communicated, despite being allowed during processing for compatibility reasons.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
            <span class="s2">"logical_integrity/same_register_cluster_addresses_in_peripheral.svd"</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/same_register_cluster_addresses_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>same_register_cluster_addresses_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_logical_integrity.test_same_register_names_in_peripheral">
<code class="highlight language-python"><span class="n">test_same_register_names_in_peripheral</span></code>
</h2>
<div class="doc doc-contents">
<p>This test checks whether the parser correctly identifies and handles naming conflicts when multiple registers
within the same peripheral share the same name. The test file contains a single peripheral with two registers,
both named <code>RegisterA</code>. This scenario is expected to create a conflict, as registers within the same
peripheral should have unique names to avoid ambiguity. The behavior of the parser should align with
<code>svdconv</code>, which raises an error in the case of identical register names.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating a register naming conflict when it encounters
two registers within the same peripheral sharing the name <code>RegisterA</code>. This error ensures that each register
is uniquely identifiable, preventing ambiguity in the peripheral's register definition. The parser should halt
processing for this file and notify the user about the conflict, mirroring <code>svdconv</code> behavior, which also does
not allow registers with the same name in the same peripheral.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_logical_integrity.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"Register naming conflict"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_same_register_names_in_peripheral</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test checks whether the parser correctly identifies and handles naming conflicts when multiple registers</span>
<span class="sd">    within the same peripheral share the same name. The test file contains a single peripheral with two registers,</span>
<span class="sd">    both named `RegisterA`. This scenario is expected to create a conflict, as registers within the same</span>
<span class="sd">    peripheral should have unique names to avoid ambiguity. The behavior of the parser should align with</span>
<span class="sd">    `svdconv`, which raises an error in the case of identical register names.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating a register naming conflict when it encounters</span>
<span class="sd">    two registers within the same peripheral sharing the name `RegisterA`. This error ensures that each register</span>
<span class="sd">    is uniquely identifiable, preventing ambiguity in the peripheral's register definition. The parser should halt</span>
<span class="sd">    processing for this file and notify the user about the conflict, mirroring `svdconv` behavior, which also does</span>
<span class="sd">    not allow registers with the same name in the same peripheral.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"logical_integrity/same_register_names_in_peripheral.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>logical_integrity/same_register_names_in_peripheral.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>same_register_names_in_peripheral<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">    </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">    </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">    </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">    </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">    </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;register&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/register&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>