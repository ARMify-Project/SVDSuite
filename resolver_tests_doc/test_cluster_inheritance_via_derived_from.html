
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="test_application_of_default_values.html">
      
      
        <link rel="next" href="test_dim_handling.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>test_cluster_inheritance_via_derived_from - Test Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#test_cluster_inheritance_via_derived_from" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Test Documentation" class="md-header__button md-logo" aria-label="Test Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Test Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              test_cluster_inheritance_via_derived_from
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Test Documentation" class="md-nav__button md-logo" aria-label="Test Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Test Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_derived_from_path_resolving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_derived_from_path_resolving
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_development.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_development
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_application_of_default_values.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_application_of_default_values
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    test_cluster_inheritance_via_derived_from
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="test_cluster_inheritance_via_derived_from.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    test_cluster_inheritance_via_derived_from
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from" class="md-nav__link">
    <span class="md-ellipsis">
      test_cluster_inheritance_via_derived_from
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_alternate_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_circular_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_circular_inheritance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_cluster_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_cluster_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_derive_from_self" class="md-nav__link">
    <span class="md-ellipsis">
      test_derive_from_self
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_multiple_inheritance_backward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_multiple_inheritance_backward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_multiple_inheritance_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_multiple_inheritance_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_nested_cluster_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_nested_cluster_inheritance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_override_behavior" class="md-nav__link">
    <span class="md-ellipsis">
      test_override_behavior
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_overlap_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_inheritance_overlap_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_same_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_inheritance_same_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_inheritance_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_same_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_backward_reference_different_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_backward_reference_different_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_backward_reference_same_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_backward_reference_same_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_forward_reference_different_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_forward_reference_different_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_forward_reference_same_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_forward_reference_same_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_size_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_size_inheritance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_value_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_value_inheritance
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_dim_handling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_dim_handling
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_enumerated_values.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_enumerated_values
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_enumerated_values_copy_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_enumerated_values_copy_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_field_inheritance_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_field_inheritance_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_logical_integrity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_logical_integrity
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_peripheral_inheritance_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_peripheral_inheritance_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_register_inheritance_via_derived_from.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_register_inheritance_via_derived_from
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="test_size_inheritance_and_adjustment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test_size_inheritance_and_adjustment
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from" class="md-nav__link">
    <span class="md-ellipsis">
      test_cluster_inheritance_via_derived_from
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_alternate_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      test_alternate_cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_circular_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_circular_inheritance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_cluster_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      test_cluster_overlap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_derive_from_self" class="md-nav__link">
    <span class="md-ellipsis">
      test_derive_from_self
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_multiple_inheritance_backward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_multiple_inheritance_backward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_multiple_inheritance_forward_reference" class="md-nav__link">
    <span class="md-ellipsis">
      test_multiple_inheritance_forward_reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_nested_cluster_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_nested_cluster_inheritance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_override_behavior" class="md-nav__link">
    <span class="md-ellipsis">
      test_override_behavior
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_overlap_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_inheritance_overlap_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_same_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_inheritance_same_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_same_name" class="md-nav__link">
    <span class="md-ellipsis">
      test_register_inheritance_same_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_same_address" class="md-nav__link">
    <span class="md-ellipsis">
      test_same_address
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_backward_reference_different_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_backward_reference_different_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_backward_reference_same_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_backward_reference_same_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_forward_reference_different_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_forward_reference_different_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_forward_reference_same_scope" class="md-nav__link">
    <span class="md-ellipsis">
      test_simple_inheritance_forward_reference_same_scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_size_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_size_inheritance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.test_process.test_cluster_inheritance_via_derived_from.test_value_inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      test_value_inheritance
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="test_cluster_inheritance_via_derived_from">test_cluster_inheritance_via_derived_from</h1>
<div class="doc doc-object doc-module">
<a id="tests.test_process.test_cluster_inheritance_via_derived_from"></a>
<div class="doc doc-contents first">
<p>For this feature, test cases cover scenarios where a derived cluster inherits properties from a base cluster, ensuring
correct behavior when values are inherited.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_alternate_cluster">
<code class="highlight language-python"><span class="n">test_alternate_cluster</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case assesses the correct handling of the <code>alternateCluster</code> feature in the SVD file, which allows
one cluster to act as an alternate version of another. In this scenario, <code>ClusterB</code> is derived from <code>ClusterA</code>
and is marked as an alternate cluster by specifying <code>ClusterA</code> in the <code>&lt;alternateCluster&gt;</code> tag. Both clusters
share the same address offset (<code>0x0</code>), implying that they can be used interchangeably, depending on the use
case.</p>
<p><strong>Expected Outcome:</strong> The parser should correctly interpret <code>ClusterB</code> as an alternate of <code>ClusterA</code>. It should
process the <code>derivedFrom</code> attribute, allowing <code>ClusterB</code> to inherit all characteristics from <code>ClusterA</code>.
Additionally, the parser should recognize the <code>&lt;alternateCluster&gt;</code> tag and confirm that <code>ClusterB</code> is
designated as an alternate of <code>ClusterA</code>. Both clusters should be treated as residing at the same address
offset (<code>0x0</code>), with <code>ClusterA</code> having no <code>alternateCluster</code> association, while <code>ClusterB</code> explicitly
references <code>ClusterA</code>. The parsing process should proceed without errors or warnings, consistent with the
behavior of <code>svdconv</code>, which correctly handles this feature.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_alternate_cluster</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case assesses the correct handling of the `alternateCluster` feature in the SVD file, which allows</span>
<span class="sd">    one cluster to act as an alternate version of another. In this scenario, `ClusterB` is derived from `ClusterA`</span>
<span class="sd">    and is marked as an alternate cluster by specifying `ClusterA` in the `&lt;alternateCluster&gt;` tag. Both clusters</span>
<span class="sd">    share the same address offset (`0x0`), implying that they can be used interchangeably, depending on the use</span>
<span class="sd">    case.</span>

<span class="sd">    **Expected Outcome:** The parser should correctly interpret `ClusterB` as an alternate of `ClusterA`. It should</span>
<span class="sd">    process the `derivedFrom` attribute, allowing `ClusterB` to inherit all characteristics from `ClusterA`.</span>
<span class="sd">    Additionally, the parser should recognize the `&lt;alternateCluster&gt;` tag and confirm that `ClusterB` is</span>
<span class="sd">    designated as an alternate of `ClusterA`. Both clusters should be treated as residing at the same address</span>
<span class="sd">    offset (`0x0`), with `ClusterA` having no `alternateCluster` association, while `ClusterB` explicitly</span>
<span class="sd">    references `ClusterA`. The parsing process should proceed without errors or warnings, consistent with the</span>
<span class="sd">    behavior of `svdconv`, which correctly handles this feature.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/alternate_cluster.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/alternate_cluster.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>alternate_cluster<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_circular_inheritance">
<code class="highlight language-python"><span class="n">test_circular_inheritance</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case examines how the parser handles scenarios where clusters are involved in circular inheritance.
In this setup, <code>ClusterA</code>, which is defined first in the SVD file, is set to inherit from <code>ClusterB</code>.
Conversely, <code>ClusterB</code> is also configured to inherit from <code>ClusterA</code>. This creates a loop of inheritance,
which is logically invalid and should not be allowed. Proper parsing should identify this circular reference
and raise an error, preventing further processing. Circular inheritance could lead to infinite loops or
unresolved dependencies if not handled correctly.</p>
<p><strong>Expected Outcome:</strong> The parser should detect the circular inheritance between <code>ClusterA</code> and <code>ClusterB</code> and
raise an appropriate error, indicating that circular references are not supported. Unlike some other complex
inheritance scenarios, where forward or backward references might be resolved by proper linkage, circular
inheritance represents a fundamental logical flaw.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s2">"Circular inheritance is not supported"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_circular_inheritance</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case examines how the parser handles scenarios where clusters are involved in circular inheritance.</span>
<span class="sd">    In this setup, `ClusterA`, which is defined first in the SVD file, is set to inherit from `ClusterB`.</span>
<span class="sd">    Conversely, `ClusterB` is also configured to inherit from `ClusterA`. This creates a loop of inheritance,</span>
<span class="sd">    which is logically invalid and should not be allowed. Proper parsing should identify this circular reference</span>
<span class="sd">    and raise an error, preventing further processing. Circular inheritance could lead to infinite loops or</span>
<span class="sd">    unresolved dependencies if not handled correctly.</span>

<span class="sd">    **Expected Outcome:** The parser should detect the circular inheritance between `ClusterA` and `ClusterB` and</span>
<span class="sd">    raise an appropriate error, indicating that circular references are not supported. Unlike some other complex</span>
<span class="sd">    inheritance scenarios, where forward or backward references might be resolved by proper linkage, circular</span>
<span class="sd">    inheritance represents a fundamental logical flaw.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/circular_inheritance.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/circular_inheritance.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>circular_inheritance<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterB"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_cluster_overlap">
<code class="highlight language-python"><span class="n">test_cluster_overlap</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case evaluates how the parser handles overlapping clusters within a peripheral, where <code>ClusterB</code> is
derived from <code>ClusterA</code> but is assigned an address offset that causes an overlap. In the SVD file, <code>ClusterA</code>
is defined at address offset <code>0x0</code> with a size of <code>16</code>, and <code>ClusterB</code>, derived from <code>ClusterA</code>, is placed at
address offset <code>0x1</code> with a size of <code>8</code>. This configuration leads to overlapping address ranges for these
clusters. While <code>svdconv</code> processes this file without detecting the overlap, this behavior appears to be a
bug. Ideally, a parser should issue a warning to alert the user of the overlap, ensuring that any unintended
address conflicts are recognized and can be corrected.</p>
<p><strong>Expected Outcome:</strong> The parser should correctly process the SVD file, identifying both <code>ClusterA</code> and <code>ClusterB</code>
while issuing a warning to indicate that their address ranges overlap. Specifically, <code>ClusterA</code> occupies the
range starting at <code>0x0</code> for <code>16</code> bytes, and <code>ClusterB</code> starts at <code>0x1</code> with a size of <code>8</code>, causing the two
clusters to share overlapping addresses. The warning should provide clear information about which clusters are
affected and the nature of the overlap, giving users the necessary insights to address any configuration
issues in their SVD definitions.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_cluster_overlap</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case evaluates how the parser handles overlapping clusters within a peripheral, where `ClusterB` is</span>
<span class="sd">    derived from `ClusterA` but is assigned an address offset that causes an overlap. In the SVD file, `ClusterA`</span>
<span class="sd">    is defined at address offset `0x0` with a size of `16`, and `ClusterB`, derived from `ClusterA`, is placed at</span>
<span class="sd">    address offset `0x1` with a size of `8`. This configuration leads to overlapping address ranges for these</span>
<span class="sd">    clusters. While `svdconv` processes this file without detecting the overlap, this behavior appears to be a</span>
<span class="sd">    bug. Ideally, a parser should issue a warning to alert the user of the overlap, ensuring that any unintended</span>
<span class="sd">    address conflicts are recognized and can be corrected.</span>

<span class="sd">    **Expected Outcome:** The parser should correctly process the SVD file, identifying both `ClusterA` and `ClusterB`</span>
<span class="sd">    while issuing a warning to indicate that their address ranges overlap. Specifically, `ClusterA` occupies the</span>
<span class="sd">    range starting at `0x0` for `16` bytes, and `ClusterB` starts at `0x1` with a size of `8`, causing the two</span>
<span class="sd">    clusters to share overlapping addresses. The warning should provide clear information about which clusters are</span>
<span class="sd">    affected and the nature of the overlap, giving users the necessary insights to address any configuration</span>
<span class="sd">    issues in their SVD definitions.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/cluster_overlap.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x1</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">8</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">8</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/cluster_overlap.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>cluster_overlap<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x1<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>8<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_derive_from_self">
<code class="highlight language-python"><span class="n">test_derive_from_self</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case evaluates a scenario where a cluster attempts to derive from itself, creating an invalid
configuration. In the SVD file, <code>ClusterA</code> is defined with a <code>derivedFrom</code> attribute pointing to its own name.
Such configurations should be detected as erroneous because a cluster cannot logically inherit properties from
itself. This kind of self-reference should lead to a parsing error.</p>
<p><strong>Expected Outcome:</strong> The parser should detect the invalid self-referential inheritance and raise an error,
indicating that a cluster cannot derive from itself. This ensures that the system handles such configurations
correctly by stopping further processing and informing the user of the issue.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s2">"Can't derive from self"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_derive_from_self</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case evaluates a scenario where a cluster attempts to derive from itself, creating an invalid</span>
<span class="sd">    configuration. In the SVD file, `ClusterA` is defined with a `derivedFrom` attribute pointing to its own name.</span>
<span class="sd">    Such configurations should be detected as erroneous because a cluster cannot logically inherit properties from</span>
<span class="sd">    itself. This kind of self-reference should lead to a parsing error.</span>

<span class="sd">    **Expected Outcome:** The parser should detect the invalid self-referential inheritance and raise an error,</span>
<span class="sd">    indicating that a cluster cannot derive from itself. This ensures that the system handles such configurations</span>
<span class="sd">    correctly by stopping further processing and informing the user of the issue.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/derive_from_self.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/derive_from_self.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>derive_from_self<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_multiple_inheritance_backward_reference">
<code class="highlight language-python"><span class="n">test_multiple_inheritance_backward_reference</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case evaluates how the parser handles multiple levels of inheritance using the <code>derivedFrom</code>
attribute. The scenario consists of three clusters: <code>ClusterA</code>, defined as the base cluster; <code>ClusterB</code>, which
derives from <code>ClusterA</code>; and <code>ClusterC</code>, which in turn derives from <code>ClusterB</code>. The SVD file defines these
clusters in a backward-compatible order, starting with <code>ClusterA</code> and then progressively building upon it with
<code>ClusterB</code> and <code>ClusterC</code>. This setup tests the parser's ability to correctly inherit properties across
multiple layers of derivation, ensuring that each derived cluster appropriately inherits all relevant
attributes from its predecessors.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the multiple inheritance chain, maintaining the
correct properties throughout each level. <code>ClusterA</code> should be recognized as the base, with all its defined
properties and a register named <code>RegisterA</code>. <code>ClusterB</code>, derived from <code>ClusterA</code>, should inherit all the base
attributes and the <code>RegisterA</code> structure, located at a new offset, demonstrating that it has extended the
base. Finally, <code>ClusterC</code> should inherit the cumulative properties from both <code>ClusterA</code> and <code>ClusterB</code>,
further verifying the parser's capability to manage complex inheritance patterns across multiple derived
entities. This behavior should mirror <code>svdconv</code>'s processing and ensure consistent, hierarchical inheritance.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_multiple_inheritance_backward_reference</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case evaluates how the parser handles multiple levels of inheritance using the `derivedFrom`</span>
<span class="sd">    attribute. The scenario consists of three clusters: `ClusterA`, defined as the base cluster; `ClusterB`, which</span>
<span class="sd">    derives from `ClusterA`; and `ClusterC`, which in turn derives from `ClusterB`. The SVD file defines these</span>
<span class="sd">    clusters in a backward-compatible order, starting with `ClusterA` and then progressively building upon it with</span>
<span class="sd">    `ClusterB` and `ClusterC`. This setup tests the parser's ability to correctly inherit properties across</span>
<span class="sd">    multiple layers of derivation, ensuring that each derived cluster appropriately inherits all relevant</span>
<span class="sd">    attributes from its predecessors.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the multiple inheritance chain, maintaining the</span>
<span class="sd">    correct properties throughout each level. `ClusterA` should be recognized as the base, with all its defined</span>
<span class="sd">    properties and a register named `RegisterA`. `ClusterB`, derived from `ClusterA`, should inherit all the base</span>
<span class="sd">    attributes and the `RegisterA` structure, located at a new offset, demonstrating that it has extended the</span>
<span class="sd">    base. Finally, `ClusterC` should inherit the cumulative properties from both `ClusterA` and `ClusterB`,</span>
<span class="sd">    further verifying the parser's capability to manage complex inheritance patterns across multiple derived</span>
<span class="sd">    entities. This behavior should mirror `svdconv`'s processing and ensure consistent, hierarchical inheritance.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"cluster_inheritance_via_derivedfrom/multiple_inheritance_backward_reference.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x8</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/multiple_inheritance_backward_reference.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>multiple_inheritance_backward_reference<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterB"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterC<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterC<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x8<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_multiple_inheritance_forward_reference">
<code class="highlight language-python"><span class="n">test_multiple_inheritance_forward_reference</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case assesses the parser's handling of complex inheritance structures where the base cluster
(<code>ClusterC</code>) is referenced by derived clusters (<code>ClusterB</code> and <code>ClusterA</code>) in a forward manner. In this setup,
the SVD file defines <code>ClusterA</code> first, followed by <code>ClusterB</code>, and finally <code>ClusterC</code>, which serves as the
base for the other clusters. The <code>derivedFrom</code> attribute is used to create a chain of inheritance starting
from <code>ClusterC</code> as the base, with <code>ClusterB</code> inheriting from it, and <code>ClusterA</code> inheriting from <code>ClusterB</code>.
This configuration challenges the parser to correctly resolve references even when the base entity appears
later in the file.</p>
<p><strong>Expected Outcome:</strong> The parser should be able to process the forward references correctly, linking each derived
cluster back to its base cluster despite the forward order of definition. <code>ClusterA</code>, appearing first in the
SVD file, should correctly inherit properties from <code>ClusterB</code>, which in turn inherits from <code>ClusterC</code>. Each
derived cluster should maintain the properties defined in its base and apply them consistently. <code>ClusterA</code>,
<code>ClusterB</code>, and <code>ClusterC</code> should all include the expected attributes, registers, and configurations inherited
through the chain, confirming that the parser effectively handles forward inheritance. This contrasts with
<code>svdconv</code>, which fails to process such forward references, making robust support for this feature a valuable
enhancement in the parser.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_multiple_inheritance_forward_reference</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case assesses the parser's handling of complex inheritance structures where the base cluster</span>
<span class="sd">    (`ClusterC`) is referenced by derived clusters (`ClusterB` and `ClusterA`) in a forward manner. In this setup,</span>
<span class="sd">    the SVD file defines `ClusterA` first, followed by `ClusterB`, and finally `ClusterC`, which serves as the</span>
<span class="sd">    base for the other clusters. The `derivedFrom` attribute is used to create a chain of inheritance starting</span>
<span class="sd">    from `ClusterC` as the base, with `ClusterB` inheriting from it, and `ClusterA` inheriting from `ClusterB`.</span>
<span class="sd">    This configuration challenges the parser to correctly resolve references even when the base entity appears</span>
<span class="sd">    later in the file.</span>

<span class="sd">    **Expected Outcome:** The parser should be able to process the forward references correctly, linking each derived</span>
<span class="sd">    cluster back to its base cluster despite the forward order of definition. `ClusterA`, appearing first in the</span>
<span class="sd">    SVD file, should correctly inherit properties from `ClusterB`, which in turn inherits from `ClusterC`. Each</span>
<span class="sd">    derived cluster should maintain the properties defined in its base and apply them consistently. `ClusterA`,</span>
<span class="sd">    `ClusterB`, and `ClusterC` should all include the expected attributes, registers, and configurations inherited</span>
<span class="sd">    through the chain, confirming that the parser effectively handles forward inheritance. This contrasts with</span>
<span class="sd">    `svdconv`, which fails to process such forward references, making robust support for this feature a valuable</span>
<span class="sd">    enhancement in the parser.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"cluster_inheritance_via_derivedfrom/multiple_inheritance_forward_reference.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterC"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x8</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/multiple_inheritance_forward_reference.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>multiple_inheritance_forward_reference<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterB"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterC"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterC<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterC<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x8<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_nested_cluster_inheritance">
<code class="highlight language-python"><span class="n">test_nested_cluster_inheritance</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case explores the scenario where a cluster contains another cluster, and the inner cluster attempts
to inherit properties from its parent using the <code>derivedFrom</code> attribute. In the provided SVD file, <code>ClusterB</code>
is nested within <code>ClusterA</code>, and it is set to inherit from <code>ClusterA</code>. This creates a situation where a
cluster is attempting to derive from its own parent, forming a nested inheritance pattern that is logically
flawed. Proper parsing should recognize that this setup is invalid because nested clusters should not inherit
from their parent clusters in this manner. Attempting to resolve such inheritance could lead to recursive
loops or other unintended behavior, making it essential for the parser to detect and handle this case
appropriately.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error upon encountering this nested inheritance, clearly
indicating that this pattern is not supported. The parser's robustness should ensure that it does not attempt
to process the inheritance further, as doing so could result in a circular dependency or recursive issues.
Unlike <code>svdconv</code>, which crashes with a segmentation fault (SigSegV) when encountering such a configuration, a
well-implemented parser should gracefully handle this invalid setup by issuing a clear error message,
preventing further processing of the file.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s2">"Nested inheritance is not supported"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_nested_cluster_inheritance</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case explores the scenario where a cluster contains another cluster, and the inner cluster attempts</span>
<span class="sd">    to inherit properties from its parent using the `derivedFrom` attribute. In the provided SVD file, `ClusterB`</span>
<span class="sd">    is nested within `ClusterA`, and it is set to inherit from `ClusterA`. This creates a situation where a</span>
<span class="sd">    cluster is attempting to derive from its own parent, forming a nested inheritance pattern that is logically</span>
<span class="sd">    flawed. Proper parsing should recognize that this setup is invalid because nested clusters should not inherit</span>
<span class="sd">    from their parent clusters in this manner. Attempting to resolve such inheritance could lead to recursive</span>
<span class="sd">    loops or other unintended behavior, making it essential for the parser to detect and handle this case</span>
<span class="sd">    appropriately.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error upon encountering this nested inheritance, clearly</span>
<span class="sd">    indicating that this pattern is not supported. The parser's robustness should ensure that it does not attempt</span>
<span class="sd">    to process the inheritance further, as doing so could result in a circular dependency or recursive issues.</span>
<span class="sd">    Unlike `svdconv`, which crashes with a segmentation fault (SigSegV) when encountering such a configuration, a</span>
<span class="sd">    well-implemented parser should gracefully handle this invalid setup by issuing a clear error message,</span>
<span class="sd">    preventing further processing of the file.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/nested_cluster_inheritance.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/nested_cluster_inheritance.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>nested_cluster_inheritance<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_override_behavior">
<code class="highlight language-python"><span class="n">test_override_behavior</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case examines how derived clusters can override specific properties inherited from their base
cluster using the <code>derivedFrom</code> attribute. When a derived cluster redefines certain attributes, it should
effectively replace the values that would otherwise be inherited.</p>
<p><strong>Expected Outcome:</strong> The parser should correctly handle scenarios where a derived cluster overrides properties
inherited from a base cluster. For <code>ClusterA</code>, all attributes should match those defined in the base
configuration, reflecting typical inheritance. However, <code>ClusterB</code>, while still inheriting from a similar
base, should show overridden properties where explicitly defined. Attributes such as <code>alternate_cluster</code>,
<code>header_struct_name</code>, and <code>protection</code> should reflect the customizations specified within <code>ClusterB</code>.
Moreover, registers within <code>ClusterB</code> should inherit general properties but may also have some overridden
settings, such as <code>size</code> or <code>access</code>. The parser must correctly interpret both inherited and redefined values,
ensuring that <code>ClusterB</code> retains a consistent but modified behavior compared to <code>ClusterA</code>. This behavior
mirrors what <code>svdconv</code> processes, ensuring that derived configurations accurately apply the specified
overrides without causing any inconsistencies.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_override_behavior</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case examines how derived clusters can override specific properties inherited from their base</span>
<span class="sd">    cluster using the `derivedFrom` attribute. When a derived cluster redefines certain attributes, it should</span>
<span class="sd">    effectively replace the values that would otherwise be inherited.</span>

<span class="sd">    **Expected Outcome:** The parser should correctly handle scenarios where a derived cluster overrides properties</span>
<span class="sd">    inherited from a base cluster. For `ClusterA`, all attributes should match those defined in the base</span>
<span class="sd">    configuration, reflecting typical inheritance. However, `ClusterB`, while still inheriting from a similar</span>
<span class="sd">    base, should show overridden properties where explicitly defined. Attributes such as `alternate_cluster`,</span>
<span class="sd">    `header_struct_name`, and `protection` should reflect the customizations specified within `ClusterB`.</span>
<span class="sd">    Moreover, registers within `ClusterB` should inherit general properties but may also have some overridden</span>
<span class="sd">    settings, such as `size` or `access`. The parser must correctly interpret both inherited and redefined values,</span>
<span class="sd">    ensuring that `ClusterB` retains a consistent but modified behavior compared to `ClusterA`. This behavior</span>
<span class="sd">    mirrors what `svdconv` processes, ensuring that derived configurations accurately apply the specified</span>
<span class="sd">    overrides without causing any inconsistencies.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/override_behavior.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">READ_WRITE</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">ANY</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xFFFFFFFF</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">==</span> <span class="s2">"ClusterA description"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">header_struct_name</span> <span class="o">==</span> <span class="s2">"HeaderStructName"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">8</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">WRITE_ONLY</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">SECURE</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0xDEADBEEF</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xDEADC0DE</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">8</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">WRITE_ONLY</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">SECURE</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0xDEADBEEF</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xDEADC0DE</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">==</span> <span class="s2">"ClusterB description"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">header_struct_name</span> <span class="o">==</span> <span class="s2">"HeaderStructName2"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">WRITE_ONCE</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">NON_SECURE</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0x0F0F0F0F</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xABABABAB</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">WRITE_ONCE</span>
    <span class="k">assert</span> <span class="p">(</span>
        <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">NON_SECURE</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0x0F0F0F0F</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xABABABAB</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">WRITE_ONCE</span>
    <span class="k">assert</span> <span class="p">(</span>
        <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">NON_SECURE</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0x0F0F0F0F</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xABABABAB</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/override_behavior.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>override_behavior<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterB<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;headerStructName&gt;</span>HeaderStructName<span class="nt">&lt;/headerStructName&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>8<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;access&gt;</span>write-only<span class="nt">&lt;/access&gt;</span>
<span class="w">          </span><span class="nt">&lt;protection&gt;</span>s<span class="nt">&lt;/protection&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetValue&gt;</span>0xDEADBEEF<span class="nt">&lt;/resetValue&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetMask&gt;</span>0xDEADC0DE<span class="nt">&lt;/resetMask&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;headerStructName&gt;</span>HeaderStructName2<span class="nt">&lt;/headerStructName&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;access&gt;</span>writeOnce<span class="nt">&lt;/access&gt;</span>
<span class="w">          </span><span class="nt">&lt;protection&gt;</span>n<span class="nt">&lt;/protection&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetValue&gt;</span>0x0F0F0F0F<span class="nt">&lt;/resetValue&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetMask&gt;</span>0xABABABAB<span class="nt">&lt;/resetMask&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_overlap_address">
<code class="highlight language-python"><span class="n">test_register_inheritance_overlap_address</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case evaluates how a derived cluster manages address space conflicts when it inherits registers from
a base cluster and defines additional registers that cause overlapping addresses. In the provided SVD file,
<code>ClusterA</code> defines <code>RegisterA</code> at address offset <code>0x0</code> with a size of 32 bits, while <code>ClusterB</code>, which is
derived from <code>ClusterA</code>, also defines <code>RegisterB</code> at address offset <code>0x2</code> with a size of 16 bits. Because of
their sizes, <code>RegisterB</code> ends up overlapping with the address space occupied by <code>RegisterA</code>. Older versions of
<code>svdconv</code> did not recognize this behavior and therefore, newer versions issue a warning instead of an error to
inform users of the potential address conflict. A parser that aims to maintain compatibility with older SVD
files should similarly allow registers with overlapping addresses while issuing a clear warning to alert users
of the overlap. This approach ensures that backward compatibility is maintained, but it also makes developers
aware of potential problems that could arise from such configurations.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, but it must issue a warning indicating
that <code>RegisterB</code> overlaps with <code>RegisterA</code> within <code>ClusterB</code>. The warning should clearly state the address
conflict and provide details about the overlapping addresses and sizes. This behavior mirrors that of
<code>svdconv</code>, ensuring that the parser maintains backward compatibility while still alerting developers to
potential configuration issues that could cause unexpected behavior in hardware interaction.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_register_inheritance_overlap_address</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case evaluates how a derived cluster manages address space conflicts when it inherits registers from</span>
<span class="sd">    a base cluster and defines additional registers that cause overlapping addresses. In the provided SVD file,</span>
<span class="sd">    `ClusterA` defines `RegisterA` at address offset `0x0` with a size of 32 bits, while `ClusterB`, which is</span>
<span class="sd">    derived from `ClusterA`, also defines `RegisterB` at address offset `0x2` with a size of 16 bits. Because of</span>
<span class="sd">    their sizes, `RegisterB` ends up overlapping with the address space occupied by `RegisterA`. Older versions of</span>
<span class="sd">    `svdconv` did not recognize this behavior and therefore, newer versions issue a warning instead of an error to</span>
<span class="sd">    inform users of the potential address conflict. A parser that aims to maintain compatibility with older SVD</span>
<span class="sd">    files should similarly allow registers with overlapping addresses while issuing a clear warning to alert users</span>
<span class="sd">    of the overlap. This approach ensures that backward compatibility is maintained, but it also makes developers</span>
<span class="sd">    aware of potential problems that could arise from such configurations.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, but it must issue a warning indicating</span>
<span class="sd">    that `RegisterB` overlaps with `RegisterA` within `ClusterB`. The warning should clearly state the address</span>
<span class="sd">    conflict and provide details about the overlapping addresses and sizes. This behavior mirrors that of</span>
<span class="sd">    `svdconv`, ensuring that the parser maintains backward compatibility while still alerting developers to</span>
<span class="sd">    potential configuration issues that could cause unexpected behavior in hardware interaction.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
            <span class="s2">"cluster_inheritance_via_derivedfrom/register_inheritance_overlap_address.svd"</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/register_inheritance_overlap_address.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_inheritance_overlap_address<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">            </span><span class="nt">&lt;size&gt;</span>32<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x2<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">            </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_same_address">
<code class="highlight language-python"><span class="n">test_register_inheritance_same_address</span></code>
</h2>
<div class="doc doc-contents">
<p>This test scenario evaluates how a derived cluster handles cases where it inherits a register from a base
cluster, and the derived cluster also defines another register at the same address offset. In the SVD file,
<code>ClusterA</code> defines <code>RegisterA</code> at address offset <code>0x0</code>, and <code>ClusterB</code>, which is derived from <code>ClusterA</code>, also
defines <code>RegisterB</code> at the same address offset <code>0x0</code>. As a result, both <code>RegisterA</code> (inherited from
<code>ClusterA</code>) and <code>RegisterB</code> (defined within <code>ClusterB</code>) occupy the same address space within <code>ClusterB</code>.
<code>svdconv</code> processes this case without raising a hard error but issues a warning to highlight the overlap,
because of <a href="https://github.com/Open-CMSIS-Pack/devtools/blob/44643999691347946562c526fc
0474194f865c74/tools/svdconv/SVDModel/src/SvdPeripheral.cpp#L721">compatibility reasons</a>. For a parser designed to work with both new
and old SVD files, it is recommended to allow registers with the same addresses but issue a warning to the
user.</p>
<p><strong>Expected Outcome:</strong> The parser should process the file successfully but must issue a warning indicating that
<code>RegisterB</code> is assigned the same address as <code>RegisterA</code> due to inheritance. The warning should explicitly
state the address conflict, providing enough information for developers to recognize and address any
unintended overlaps in the register configurations.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_register_inheritance_same_address</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test scenario evaluates how a derived cluster handles cases where it inherits a register from a base</span>
<span class="sd">    cluster, and the derived cluster also defines another register at the same address offset. In the SVD file,</span>
<span class="sd">    `ClusterA` defines `RegisterA` at address offset `0x0`, and `ClusterB`, which is derived from `ClusterA`, also</span>
<span class="sd">    defines `RegisterB` at the same address offset `0x0`. As a result, both `RegisterA` (inherited from</span>
<span class="sd">    `ClusterA`) and `RegisterB` (defined within `ClusterB`) occupy the same address space within `ClusterB`.</span>
<span class="sd">    `svdconv` processes this case without raising a hard error but issues a warning to highlight the overlap,</span>
<span class="sd">    because of [compatibility reasons](https://github.com/Open-CMSIS-Pack/devtools/blob/44643999691347946562c526fc</span>
<span class="sd">    0474194f865c74/tools/svdconv/SVDModel/src/SvdPeripheral.cpp#L721). For a parser designed to work with both new</span>
<span class="sd">    and old SVD files, it is recommended to allow registers with the same addresses but issue a warning to the</span>
<span class="sd">    user.</span>

<span class="sd">    **Expected Outcome:** The parser should process the file successfully but must issue a warning indicating that</span>
<span class="sd">    `RegisterB` is assigned the same address as `RegisterA` due to inheritance. The warning should explicitly</span>
<span class="sd">    state the address conflict, providing enough information for developers to recognize and address any</span>
<span class="sd">    unintended overlaps in the register configurations.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
            <span class="s2">"cluster_inheritance_via_derivedfrom/register_inheritance_same_address.svd"</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/register_inheritance_same_address.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_inheritance_same_address<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_register_inheritance_same_name">
<code class="highlight language-python"><span class="n">test_register_inheritance_same_name</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case addresses a situation where a derived cluster attempts to inherit a register from a base
cluster, but there is a naming conflict because the derived cluster defines a register with the same name as
the one it is inheriting. In the SVD file, <code>ClusterA</code> defines a register named <code>RegisterA</code>, and <code>ClusterB</code>,
which is derived from <code>ClusterA</code>, also defines its own <code>RegisterA</code>. Since <code>ClusterB</code> inherits from <code>ClusterA</code>,
this results in a conflict where <code>RegisterA</code> is effectively defined twice within <code>ClusterB</code>. While <code>svdconv</code>
correctly identifies this issue and raises an error, a robust parser must also handle this case by issuing an
appropriate error message.</p>
<p><strong>Expected Outcome:</strong> The parser should raise an error indicating that <code>RegisterA</code> is already defined in
<code>ClusterA</code>, and therefore cannot be inherited by <code>ClusterB</code> because it has the same name. The error should be
explicit, preventing further processing and avoiding any ambiguity around the derived cluster's register
structure.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">raises</span><span class="o">=</span><span class="n">ProcessException</span><span class="p">,</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">"RegisterA is already defined in ClusterA and cannot be inherited because it has the same name"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_register_inheritance_same_name</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case addresses a situation where a derived cluster attempts to inherit a register from a base</span>
<span class="sd">    cluster, but there is a naming conflict because the derived cluster defines a register with the same name as</span>
<span class="sd">    the one it is inheriting. In the SVD file, `ClusterA` defines a register named `RegisterA`, and `ClusterB`,</span>
<span class="sd">    which is derived from `ClusterA`, also defines its own `RegisterA`. Since `ClusterB` inherits from `ClusterA`,</span>
<span class="sd">    this results in a conflict where `RegisterA` is effectively defined twice within `ClusterB`. While `svdconv`</span>
<span class="sd">    correctly identifies this issue and raises an error, a robust parser must also handle this case by issuing an</span>
<span class="sd">    appropriate error message.</span>

<span class="sd">    **Expected Outcome:** The parser should raise an error indicating that `RegisterA` is already defined in</span>
<span class="sd">    `ClusterA`, and therefore cannot be inherited by `ClusterB` because it has the same name. The error should be</span>
<span class="sd">    explicit, preventing further processing and avoiding any ambiguity around the derived cluster's register</span>
<span class="sd">    structure.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/register_inheritance_same_name.svd"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/register_inheritance_same_name.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>register_inheritance_same_name<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_same_address">
<code class="highlight language-python"><span class="n">test_same_address</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case examines how the parser handles situations where two clusters, <code>ClusterA</code> and <code>ClusterB</code>, are
defined at the same address offset within a peripheral. In the provided SVD file, both clusters are located at
address offset <code>0x0</code>, which leads to potential address conflicts. Older versions of <code>svdconv</code> did not
recognize this behavior and for compatibility, newer versions issue a warning instead of an error to inform
users of the potential address conflict. A modern parser should replicate this behavior by allowing the SVD
file to be processed but should issue a warning to alert the user of the address overlap.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully parse the SVD file, identifying both <code>ClusterA</code> and
<code>ClusterB</code> at the same address offset (<code>0x0</code>). However, a warning should be issued to inform the user that
<code>ClusterB</code> shares the same address as <code>ClusterA</code>, indicating a potential conflict.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_same_address</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case examines how the parser handles situations where two clusters, `ClusterA` and `ClusterB`, are</span>
<span class="sd">    defined at the same address offset within a peripheral. In the provided SVD file, both clusters are located at</span>
<span class="sd">    address offset `0x0`, which leads to potential address conflicts. Older versions of `svdconv` did not</span>
<span class="sd">    recognize this behavior and for compatibility, newer versions issue a warning instead of an error to inform</span>
<span class="sd">    users of the potential address conflict. A modern parser should replicate this behavior by allowing the SVD</span>
<span class="sd">    file to be processed but should issue a warning to alert the user of the address overlap.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully parse the SVD file, identifying both `ClusterA` and</span>
<span class="sd">    `ClusterB` at the same address offset (`0x0`). However, a warning should be issued to inform the user that</span>
<span class="sd">    `ClusterB` shares the same address as `ClusterA`, indicating a potential conflict.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">warns</span><span class="p">(</span><span class="n">ProcessWarning</span><span class="p">):</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/same_address.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/same_address.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>same_address<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_backward_reference_different_scope">
<code class="highlight language-python"><span class="n">test_simple_inheritance_backward_reference_different_scope</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case evaluates how a parser handles cluster inheritance via the <code>derivedFrom</code> attribute when the
derived cluster refers to a base cluster that is defined within a different peripheral. In this scenario,
<code>ClusterA</code> from one peripheral acts as the base cluster, while a similarly named <code>ClusterA</code> in another
peripheral inherits its properties. This setup is intended to confirm that cross-scope inheritance works
correctly, ensuring that the derived cluster can access and copy properties from a base cluster, even when
they reside within different scopes or peripherals.</p>
<p><strong>Expected Outcome:</strong> The parser should accurately resolve the <code>derivedFrom</code> reference across different scopes,
allowing <code>ClusterA</code> in the second peripheral to inherit all the properties from <code>ClusterA</code> in the first
peripheral. This includes settings such as size and any registers defined within the original cluster. The
implementation should validate that properties are correctly inherited and applied to the derived cluster,
ensuring consistency and accuracy. The parser's ability to handle this cross-scope inheritance efficiently is
crucial, as <code>svdconv</code> processes these scenarios without issues.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_simple_inheritance_backward_reference_different_scope</span><span class="p">(</span>
    <span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case evaluates how a parser handles cluster inheritance via the `derivedFrom` attribute when the</span>
<span class="sd">    derived cluster refers to a base cluster that is defined within a different peripheral. In this scenario,</span>
<span class="sd">    `ClusterA` from one peripheral acts as the base cluster, while a similarly named `ClusterA` in another</span>
<span class="sd">    peripheral inherits its properties. This setup is intended to confirm that cross-scope inheritance works</span>
<span class="sd">    correctly, ensuring that the derived cluster can access and copy properties from a base cluster, even when</span>
<span class="sd">    they reside within different scopes or peripherals.</span>

<span class="sd">    **Expected Outcome:** The parser should accurately resolve the `derivedFrom` reference across different scopes,</span>
<span class="sd">    allowing `ClusterA` in the second peripheral to inherit all the properties from `ClusterA` in the first</span>
<span class="sd">    peripheral. This includes settings such as size and any registers defined within the original cluster. The</span>
<span class="sd">    implementation should validate that properties are correctly inherited and applied to the derived cluster,</span>
<span class="sd">    ensuring consistency and accuracy. The parser's ability to handle this cross-scope inheritance efficiently is</span>
<span class="sd">    crucial, as `svdconv` processes these scenarios without issues.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"cluster_inheritance_via_derivedfrom/simple_inheritance_backward_reference_different_scope.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/simple_inheritance_backward_reference_different_scope.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>simple_inheritance_backward_reference_different_scope<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40002000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"PeripheralA.ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_backward_reference_same_scope">
<code class="highlight language-python"><span class="n">test_simple_inheritance_backward_reference_same_scope</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case examines the functionality of cluster inheritance using the <code>derivedFrom</code> attribute,
specifically when a derived cluster references a base cluster that has been defined earlier within the same
scope. The SVD file contains two clusters: <code>ClusterA</code>, which serves as the base, and <code>ClusterB</code>, which derives
its properties from <code>ClusterA</code>. The test verifies that <code>ClusterB</code> correctly inherits the settings of
<code>ClusterA</code>, such as address offsets and register definitions, without requiring explicit redefinition. This
allows for efficient reuse of configurations and consistency across similar clusters.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully interpret the SVD file, recognizing <code>ClusterB</code> as a
derivative of <code>ClusterA</code>. <code>ClusterB</code> should inherit all properties from <code>ClusterA</code>, including the register
within it. The test should confirm that the derived cluster behaves exactly as if it were fully defined on its
own, ensuring no loss of information or incorrect settings. The implementation must accurately parse and apply
the inheritance mechanism, consistent with how <code>svdconv</code> processes the file.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_simple_inheritance_backward_reference_same_scope</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case examines the functionality of cluster inheritance using the `derivedFrom` attribute,</span>
<span class="sd">    specifically when a derived cluster references a base cluster that has been defined earlier within the same</span>
<span class="sd">    scope. The SVD file contains two clusters: `ClusterA`, which serves as the base, and `ClusterB`, which derives</span>
<span class="sd">    its properties from `ClusterA`. The test verifies that `ClusterB` correctly inherits the settings of</span>
<span class="sd">    `ClusterA`, such as address offsets and register definitions, without requiring explicit redefinition. This</span>
<span class="sd">    allows for efficient reuse of configurations and consistency across similar clusters.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully interpret the SVD file, recognizing `ClusterB` as a</span>
<span class="sd">    derivative of `ClusterA`. `ClusterB` should inherit all properties from `ClusterA`, including the register</span>
<span class="sd">    within it. The test should confirm that the derived cluster behaves exactly as if it were fully defined on its</span>
<span class="sd">    own, ensuring no loss of information or incorrect settings. The implementation must accurately parse and apply</span>
<span class="sd">    the inheritance mechanism, consistent with how `svdconv` processes the file.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"cluster_inheritance_via_derivedfrom/simple_inheritance_backward_reference_same_scope.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/simple_inheritance_backward_reference_same_scope.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>simple_inheritance_backward_reference_same_scope<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_forward_reference_different_scope">
<code class="highlight language-python"><span class="n">test_simple_inheritance_forward_reference_different_scope</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case explores how a parser manages cluster inheritance using the <code>derivedFrom</code> attribute when a
derived cluster refers to a base cluster defined later within a different peripheral. Unlike backward
references, forward references imply that the parser must anticipate and correctly resolve a reference to a
cluster that has not yet been defined, adding complexity to the inheritance mechanism. This setup checks
whether the parser can seamlessly link the derived cluster to its base cluster, even when the base cluster
appears later and exists within a different peripheral scope. <code>svdconv</code> cannot handle forward references
within a different scope, leading to an error, but a robust parser should be capable of managing such cases
without issues.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully handle the <code>derivedFrom</code> reference, allowing <code>ClusterA</code> in
the first peripheral to inherit from <code>ClusterA</code> defined in the second peripheral. It must accurately inherit
all properties, including sizes and register definitions. The parser should ensure that cross-scope and
forward references do not disrupt the resolution of inherited properties, maintaining consistent and accurate
behavior.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_simple_inheritance_forward_reference_different_scope</span><span class="p">(</span>
    <span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case explores how a parser manages cluster inheritance using the `derivedFrom` attribute when a</span>
<span class="sd">    derived cluster refers to a base cluster defined later within a different peripheral. Unlike backward</span>
<span class="sd">    references, forward references imply that the parser must anticipate and correctly resolve a reference to a</span>
<span class="sd">    cluster that has not yet been defined, adding complexity to the inheritance mechanism. This setup checks</span>
<span class="sd">    whether the parser can seamlessly link the derived cluster to its base cluster, even when the base cluster</span>
<span class="sd">    appears later and exists within a different peripheral scope. `svdconv` cannot handle forward references</span>
<span class="sd">    within a different scope, leading to an error, but a robust parser should be capable of managing such cases</span>
<span class="sd">    without issues.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully handle the `derivedFrom` reference, allowing `ClusterA` in</span>
<span class="sd">    the first peripheral to inherit from `ClusterA` defined in the second peripheral. It must accurately inherit</span>
<span class="sd">    all properties, including sizes and register definitions. The parser should ensure that cross-scope and</span>
<span class="sd">    forward references do not disrupt the resolution of inherited properties, maintaining consistent and accurate</span>
<span class="sd">    behavior.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"cluster_inheritance_via_derivedfrom/simple_inheritance_forward_reference_different_scope.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/simple_inheritance_forward_reference_different_scope.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>simple_inheritance_forward_reference_different_scope<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"PeripheralB.ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralB<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40002000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_simple_inheritance_forward_reference_same_scope">
<code class="highlight language-python"><span class="n">test_simple_inheritance_forward_reference_same_scope</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case evaluates the functionality of cluster inheritance via the <code>derivedFrom</code> attribute when a
derived cluster refers to a base cluster that is defined later in the same scope. Unlike backward references,
this scenario involves the base cluster being declared after the derived cluster. This setup is used to ensure
that the parser can correctly resolve forward references, allowing <code>ClusterA</code> to derive from <code>ClusterB</code>, even
though <code>ClusterB</code> is defined later in the SVD file. <code>svdconv</code> cannot handle forward references within the same
scope, leading to an error, but a robust parser should be capable of managing such cases without issues.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully process the SVD file, correctly handling the forward
reference so that <code>ClusterA</code> inherits all properties from <code>ClusterB</code>. This includes the register defined
within the base cluster. The test should confirm that <code>ClusterA</code> behaves as though it were explicitly defined
with the same settings as <code>ClusterB</code>, ensuring consistency and accurate inheritance. The implementation must
be able to parse these forward references efficiently, overcoming the limitations observed in <code>svdconv</code>.</p>
<p><strong>Processable with svdconv:</strong> no</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_simple_inheritance_forward_reference_same_scope</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case evaluates the functionality of cluster inheritance via the `derivedFrom` attribute when a</span>
<span class="sd">    derived cluster refers to a base cluster that is defined later in the same scope. Unlike backward references,</span>
<span class="sd">    this scenario involves the base cluster being declared after the derived cluster. This setup is used to ensure</span>
<span class="sd">    that the parser can correctly resolve forward references, allowing `ClusterA` to derive from `ClusterB`, even</span>
<span class="sd">    though `ClusterB` is defined later in the SVD file. `svdconv` cannot handle forward references within the same</span>
<span class="sd">    scope, leading to an error, but a robust parser should be capable of managing such cases without issues.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully process the SVD file, correctly handling the forward</span>
<span class="sd">    reference so that `ClusterA` inherits all properties from `ClusterB`. This includes the register defined</span>
<span class="sd">    within the base cluster. The test should confirm that `ClusterA` behaves as though it were explicitly defined</span>
<span class="sd">    with the same settings as `ClusterB`, ensuring consistency and accurate inheritance. The implementation must</span>
<span class="sd">    be able to parse these forward references efficiently, overcoming the limitations observed in `svdconv`.</span>

<span class="sd">    **Processable with svdconv:** no</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span>
        <span class="s2">"cluster_inheritance_via_derivedfrom/simple_inheritance_forward_reference_same_scope.svd"</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/simple_inheritance_forward_reference_same_scope.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>simple_inheritance_forward_reference_same_scope<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterB"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_size_inheritance">
<code class="highlight language-python"><span class="n">test_size_inheritance</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case verifies that the <code>size</code> attribute is correctly inherited when using <code>derivedFrom</code> on clusters
and registers. In the provided setup, <code>ClusterB</code> is derived from <code>ClusterA</code>, which has a specified <code>size</code> of 8
for <code>RegisterA</code>. Since <code>RegisterB</code> in <code>ClusterB</code> does not define its own <code>size</code>, it should inherit the <code>size</code>
attribute from <code>RegisterA</code> in <code>ClusterA</code>. This test confirms that the parser correctly applies this
inheritance, ensuring consistent <code>size</code> values across derived elements without explicit redefinition.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully inherit the <code>size</code> attribute for <code>RegisterB</code>, resulting in
<code>ClusterB</code> and its registers having the same size attributes as the elements in <code>ClusterA</code>. Specifically,
<code>RegisterB</code> in <code>ClusterB</code> should inherit a <code>size</code> of 8.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_size_inheritance</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case verifies that the `size` attribute is correctly inherited when using `derivedFrom` on clusters</span>
<span class="sd">    and registers. In the provided setup, `ClusterB` is derived from `ClusterA`, which has a specified `size` of 8</span>
<span class="sd">    for `RegisterA`. Since `RegisterB` in `ClusterB` does not define its own `size`, it should inherit the `size`</span>
<span class="sd">    attribute from `RegisterA` in `ClusterA`. This test confirms that the parser correctly applies this</span>
<span class="sd">    inheritance, ensuring consistent `size` values across derived elements without explicit redefinition.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully inherit the `size` attribute for `RegisterB`, resulting in</span>
<span class="sd">    `ClusterB` and its registers having the same size attributes as the elements in `ClusterA`. Specifically,</span>
<span class="sd">    `RegisterB` in `ClusterB` should inherit a `size` of 8.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/size_inheritance.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">8</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">32</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/size_inheritance.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>size_inheritance<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">            </span><span class="nt">&lt;size&gt;</span>8<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterB<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="tests.test_process.test_cluster_inheritance_via_derived_from.test_value_inheritance">
<code class="highlight language-python"><span class="n">test_value_inheritance</span></code>
</h2>
<div class="doc doc-contents">
<p>This test case focuses on the inheritance of properties within clusters when utilizing the <code>derivedFrom</code>
attribute. Specifically, it examines how a derived cluster can inherit various attributes—such as description,
alternate clusters, header structure names, access permissions, and reset configurations—from a base cluster.
The goal is to ensure that the parser accurately handles the propagation of these values, maintaining
consistency across derived clusters without requiring them to redefine attributes that are already specified
in their base counterparts.</p>
<p><strong>Expected Outcome:</strong> The parser should successfully interpret the <code>derivedFrom</code> attribute and apply all the
relevant properties from the base cluster to the derived cluster. For instance, <code>ClusterB</code> should inherit
settings from <code>ClusterA</code>, including but not limited to description, access permissions, protection level, and
reset values. The properties like <code>alternateCluster</code>, <code>headerStructName</code>, and size should also be correctly
propagated, ensuring <code>ClusterB</code> maintains the same effective behavior as <code>ClusterA</code> unless explicitly
overridden. Furthermore, nested structures within the clusters, such as registers, should also reflect
inherited attributes, demonstrating the parser’s ability to resolve and apply complex inheritance patterns.
This behavior mirrors the expected output of <code>svdconv</code>, which processes these scenarios correctly, reinforcing
the parser's robustness in dealing with value inheritance via <code>derivedFrom</code>.</p>
<p><strong>Processable with svdconv:</strong> yes</p>
<details class="quote">
<summary>Source code in <code>tests/test_process/test_cluster_inheritance_via_derived_from.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"error::svdsuite.process.ProcessWarning"</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_value_inheritance</span><span class="p">(</span><span class="n">get_processed_device_from_testfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Device</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This test case focuses on the inheritance of properties within clusters when utilizing the `derivedFrom`</span>
<span class="sd">    attribute. Specifically, it examines how a derived cluster can inherit various attributes—such as description,</span>
<span class="sd">    alternate clusters, header structure names, access permissions, and reset configurations—from a base cluster.</span>
<span class="sd">    The goal is to ensure that the parser accurately handles the propagation of these values, maintaining</span>
<span class="sd">    consistency across derived clusters without requiring them to redefine attributes that are already specified</span>
<span class="sd">    in their base counterparts.</span>

<span class="sd">    **Expected Outcome:** The parser should successfully interpret the `derivedFrom` attribute and apply all the</span>
<span class="sd">    relevant properties from the base cluster to the derived cluster. For instance, `ClusterB` should inherit</span>
<span class="sd">    settings from `ClusterA`, including but not limited to description, access permissions, protection level, and</span>
<span class="sd">    reset values. The properties like `alternateCluster`, `headerStructName`, and size should also be correctly</span>
<span class="sd">    propagated, ensuring `ClusterB` maintains the same effective behavior as `ClusterA` unless explicitly</span>
<span class="sd">    overridden. Furthermore, nested structures within the clusters, such as registers, should also reflect</span>
<span class="sd">    inherited attributes, demonstrating the parser’s ability to resolve and apply complex inheritance patterns.</span>
<span class="sd">    This behavior mirrors the expected output of `svdconv`, which processes these scenarios correctly, reinforcing</span>
<span class="sd">    the parser's robustness in dealing with value inheritance via `derivedFrom`.</span>

<span class="sd">    **Processable with svdconv:** yes</span>
<span class="sd">    """</span>

    <span class="n">device</span> <span class="o">=</span> <span class="n">get_processed_device_from_testfile</span><span class="p">(</span><span class="s2">"cluster_inheritance_via_derivedfrom/value_inheritance.svd"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">==</span> <span class="s2">"ClusterA description"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">header_struct_name</span> <span class="o">==</span> <span class="s2">"HeaderStructName"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">WRITE_ONLY</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">SECURE</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0xDEADBEEF</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xDEADC0DE</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Cluster</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"ClusterB"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">==</span> <span class="s2">"ClusterB description"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">alternate_cluster</span> <span class="o">==</span> <span class="s2">"ClusterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">header_struct_name</span> <span class="o">==</span> <span class="s2">"HeaderStructName"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x4</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">access</span> <span class="o">==</span> <span class="n">AccessType</span><span class="o">.</span><span class="n">WRITE_ONLY</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">protection</span> <span class="o">==</span> <span class="n">ProtectionStringType</span><span class="o">.</span><span class="n">SECURE</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_value</span> <span class="o">==</span> <span class="mh">0xDEADBEEF</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_mask</span> <span class="o">==</span> <span class="mh">0xDEADC0DE</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Register</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"RegisterA"</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address_offset</span> <span class="o">==</span> <span class="mh">0x0</span>
    <span class="k">assert</span> <span class="n">device</span><span class="o">.</span><span class="n">peripherals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">registers_clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">16</span>
</code></pre></div></td></tr></table></div>
</details><details class="quote"><summary>SVD file: <code>cluster_inheritance_via_derivedfrom/value_inheritance.svd</code></summary><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;device</span><span class="w"> </span><span class="na">xmlns:xs=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="w"> </span><span class="na">xs:noNamespaceSchemaLocation=</span><span class="s">"CMSIS-SVD.xsd"</span><span class="w"> </span><span class="na">schemaVersion=</span><span class="s">"1.3"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>value_inheritance<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;description&gt;</span>Test_Example<span class="w"> </span>device<span class="nt">&lt;/description&gt;</span>
<span class="w">  </span><span class="nt">&lt;cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>CM0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;revision&gt;</span>r0p0<span class="nt">&lt;/revision&gt;</span>
<span class="w">  </span><span class="nt">&lt;endian&gt;</span>little<span class="nt">&lt;/endian&gt;</span>
<span class="w">  </span><span class="nt">&lt;mpuPresent&gt;</span>false<span class="nt">&lt;/mpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;fpuPresent&gt;</span>false<span class="nt">&lt;/fpuPresent&gt;</span>
<span class="w">  </span><span class="nt">&lt;nvicPrioBits&gt;</span>4<span class="nt">&lt;/nvicPrioBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;vendorSystickConfig&gt;</span>false<span class="nt">&lt;/vendorSystickConfig&gt;</span>
<span class="w">  </span><span class="nt">&lt;/cpu&gt;</span>
<span class="w">  </span><span class="nt">&lt;addressUnitBits&gt;</span>8<span class="nt">&lt;/addressUnitBits&gt;</span>
<span class="w">  </span><span class="nt">&lt;width&gt;</span>32<span class="nt">&lt;/width&gt;</span>
<span class="w">  </span><span class="nt">&lt;peripherals&gt;</span>
<span class="w">    </span><span class="nt">&lt;peripheral&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>PeripheralA<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;baseAddress&gt;</span>0x40001000<span class="nt">&lt;/baseAddress&gt;</span>
<span class="w">      </span><span class="nt">&lt;addressBlock&gt;</span>
<span class="w">        </span><span class="nt">&lt;offset&gt;</span>0x0<span class="nt">&lt;/offset&gt;</span>
<span class="w">        </span><span class="nt">&lt;size&gt;</span>0x1000<span class="nt">&lt;/size&gt;</span>
<span class="w">        </span><span class="nt">&lt;usage&gt;</span>registers<span class="nt">&lt;/usage&gt;</span>
<span class="w">      </span><span class="nt">&lt;/addressBlock&gt;</span>
<span class="w">      </span><span class="nt">&lt;registers&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterA<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterA<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;alternateCluster&gt;</span>ClusterA<span class="nt">&lt;/alternateCluster&gt;</span>
<span class="w">          </span><span class="nt">&lt;headerStructName&gt;</span>HeaderStructName<span class="nt">&lt;/headerStructName&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;size&gt;</span>16<span class="nt">&lt;/size&gt;</span>
<span class="w">          </span><span class="nt">&lt;access&gt;</span>write-only<span class="nt">&lt;/access&gt;</span>
<span class="w">          </span><span class="nt">&lt;protection&gt;</span>s<span class="nt">&lt;/protection&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetValue&gt;</span>0xDEADBEEF<span class="nt">&lt;/resetValue&gt;</span>
<span class="w">          </span><span class="nt">&lt;resetMask&gt;</span>0xDEADC0DE<span class="nt">&lt;/resetMask&gt;</span>
<span class="w">          </span><span class="nt">&lt;register&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>RegisterA<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;addressOffset&gt;</span>0x0<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">          </span><span class="nt">&lt;/register&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">        </span><span class="nt">&lt;cluster</span><span class="w"> </span><span class="na">derivedFrom=</span><span class="s">"ClusterA"</span><span class="nt">&gt;</span>
<span class="w">          </span><span class="nt">&lt;name&gt;</span>ClusterB<span class="nt">&lt;/name&gt;</span>
<span class="w">          </span><span class="nt">&lt;description&gt;</span>ClusterB<span class="w"> </span>description<span class="nt">&lt;/description&gt;</span>
<span class="w">          </span><span class="nt">&lt;addressOffset&gt;</span>0x4<span class="nt">&lt;/addressOffset&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cluster&gt;</span>
<span class="w">      </span><span class="nt">&lt;/registers&gt;</span>
<span class="w">    </span><span class="nt">&lt;/peripheral&gt;</span>
<span class="w">  </span><span class="nt">&lt;/peripherals&gt;</span>
<span class="nt">&lt;/device&gt;</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>